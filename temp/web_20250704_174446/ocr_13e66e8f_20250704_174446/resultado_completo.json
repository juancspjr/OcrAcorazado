{
  "execution_id": "13e66e8f",
  "timestamp": "20250704_174446",
  "input_image": "uploads/20250704_174446_00_imagen_original_6.png",
  "temp_directory": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.146,
      "diagnostico": {
        "imagen_info": {
          "ancho": 720,
          "alto": 876,
          "resolucion_total": 630720,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 49.088628868594625,
          "desviacion_brillo": 45.2761827098252,
          "rango_dinamico": 255.0,
          "histogram": [
            192.0,
            31.0,
            42.0,
            46.0,
            60.0,
            71.0,
            82.0,
            93.0,
            104.0,
            109.0,
            142.0,
            132.0,
            210.0,
            213.0,
            255.0,
            299.0,
            323.0,
            1138.0,
            422.0,
            507.0,
            537.0,
            624.0,
            734.0,
            844.0,
            912.0,
            1029.0,
            1895.0,
            1384.0,
            2208.0,
            3077.0,
            2754.0,
            2313.0,
            2336.0,
            492325.0,
            3071.0,
            2976.0,
            2041.0,
            1872.0,
            2190.0,
            1376.0,
            1782.0,
            1695.0,
            948.0,
            805.0,
            751.0,
            609.0,
            513.0,
            442.0,
            425.0,
            364.0,
            340.0,
            285.0,
            295.0,
            222.0,
            929.0,
            201.0,
            170.0,
            174.0,
            161.0,
            169.0,
            145.0,
            135.0,
            152.0,
            134.0,
            105.0,
            124.0,
            93.0,
            105.0,
            91.0,
            127.0,
            111.0,
            109.0,
            98.0,
            105.0,
            108.0,
            96.0,
            92.0,
            92.0,
            125.0,
            110.0,
            125.0,
            151.0,
            195.0,
            626.0,
            573.0,
            312.0,
            941.0,
            193.0,
            157.0,
            111.0,
            86.0,
            101.0,
            98.0,
            88.0,
            58.0,
            62.0,
            85.0,
            84.0,
            65.0,
            81.0,
            92.0,
            78.0,
            77.0,
            111.0,
            91.0,
            90.0,
            124.0,
            132.0,
            170.0,
            150.0,
            749.0,
            181.0,
            223.0,
            852.0,
            871.0,
            868.0,
            332.0,
            44438.0,
            984.0,
            863.0,
            210.0,
            848.0,
            809.0,
            195.0,
            163.0,
            164.0,
            130.0,
            104.0,
            137.0,
            104.0,
            111.0,
            96.0,
            119.0,
            93.0,
            109.0,
            95.0,
            109.0,
            84.0,
            103.0,
            86.0,
            109.0,
            107.0,
            89.0,
            84.0,
            101.0,
            107.0,
            107.0,
            86.0,
            91.0,
            82.0,
            81.0,
            72.0,
            92.0,
            85.0,
            107.0,
            88.0,
            102.0,
            115.0,
            101.0,
            100.0,
            97.0,
            104.0,
            79.0,
            84.0,
            89.0,
            89.0,
            84.0,
            89.0,
            108.0,
            103.0,
            95.0,
            92.0,
            70.0,
            97.0,
            110.0,
            116.0,
            92.0,
            84.0,
            94.0,
            101.0,
            94.0,
            107.0,
            105.0,
            64.0,
            81.0,
            84.0,
            89.0,
            111.0,
            94.0,
            94.0,
            135.0,
            104.0,
            90.0,
            92.0,
            80.0,
            93.0,
            96.0,
            113.0,
            105.0,
            76.0,
            102.0,
            113.0,
            110.0,
            141.0,
            140.0,
            177.0,
            203.0,
            1376.0,
            196.0,
            164.0,
            138.0,
            127.0,
            132.0,
            110.0,
            95.0,
            124.0,
            103.0,
            90.0,
            102.0,
            90.0,
            101.0,
            79.0,
            100.0,
            124.0,
            104.0,
            110.0,
            110.0,
            110.0,
            80.0,
            119.0,
            101.0,
            85.0,
            95.0,
            93.0,
            78.0,
            85.0,
            105.0,
            94.0,
            89.0,
            104.0,
            100.0,
            100.0,
            107.0,
            109.0,
            146.0,
            137.0,
            129.0,
            148.0,
            122.0,
            116.0,
            125.0,
            135.0,
            172.0,
            161.0,
            176.0,
            13205.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                33,
                492325
              ],
              [
                117,
                44438
              ]
            ],
            "rango_fondo_sugerido": 117,
            "rango_texto_sugerido": 33,
            "distribucion": {
              "oscuras": 0.8659563660621643,
              "medias": 0.09638825803995132,
              "claras": 0.03765537962317467
            },
            "requiere_inversion": true,
            "bimodal": true
          },
          "variaciones_fondo": {
            "total_regiones_analizadas": 918,
            "fondos_unicos_detectados": 5,
            "variacion_fondos": 28.635523942704022,
            "fondos_heterogeneos": true,
            "rango_fondos": [
              33,
              255
            ],
            "requiere_unificacion_avanzada": true,
            "regiones_variacion": [
              {
                "posicion": [
                  0,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  25,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  50,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  75,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  100,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  125,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  150,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  175,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  200,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              },
              {
                "posicion": [
                  225,
                  0
                ],
                "media_local": 33.0,
                "std_local": 0.0,
                "pico_fondo": 33
              }
            ]
          }
        },
        "calidad_imagen": {
          "contraste": 45.2761827098252,
          "blur_variance": 1102.5654801557514,
          "entropy": 1.922778844833374,
          "gradiente_promedio": 42.063315559076436,
          "brillo_promedio": 49.088628868594625,
          "uniformidad_brillo": 45.2761827098252,
          "calificacion_calidad": 65
        },
        "deteccion_texto": {
          "regiones_detectadas": 30,
          "area_total_texto": 149038,
          "densidad_texto": 0.2362981988838153,
          "regiones": [
            {
              "x": 597,
              "y": 790,
              "width": 67,
              "height": 25,
              "area": 1675,
              "aspect_ratio": 2.68
            },
            {
              "x": 54,
              "y": 782,
              "width": 134,
              "height": 33,
              "area": 4422,
              "aspect_ratio": 4.0606060606060606
            },
            {
              "x": 242,
              "y": 724,
              "width": 19,
              "height": 24,
              "area": 456,
              "aspect_ratio": 0.7916666666666666
            },
            {
              "x": 494,
              "y": 723,
              "width": 170,
              "height": 26,
              "area": 4420,
              "aspect_ratio": 6.538461538461538
            },
            {
              "x": 340,
              "y": 723,
              "width": 103,
              "height": 26,
              "area": 2678,
              "aspect_ratio": 3.9615384615384617
            },
            {
              "x": 262,
              "y": 723,
              "width": 51,
              "height": 26,
              "area": 1326,
              "aspect_ratio": 1.9615384615384615
            },
            {
              "x": 57,
              "y": 723,
              "width": 89,
              "height": 26,
              "area": 2314,
              "aspect_ratio": 3.423076923076923
            },
            {
              "x": 450,
              "y": 721,
              "width": 39,
              "height": 30,
              "area": 1170,
              "aspect_ratio": 1.3
            },
            {
              "x": 629,
              "y": 663,
              "width": 34,
              "height": 25,
              "area": 850,
              "aspect_ratio": 1.36
            },
            {
              "x": 57,
              "y": 662,
              "width": 109,
              "height": 27,
              "area": 2943,
              "aspect_ratio": 4.037037037037037
            },
            {
              "x": 470,
              "y": 661,
              "width": 158,
              "height": 27,
              "area": 4266,
              "aspect_ratio": 5.851851851851852
            },
            {
              "x": 56,
              "y": 600,
              "width": 98,
              "height": 31,
              "area": 3038,
              "aspect_ratio": 3.161290322580645
            },
            {
              "x": 470,
              "y": 598,
              "width": 193,
              "height": 28,
              "area": 5404,
              "aspect_ratio": 6.892857142857143
            },
            {
              "x": 577,
              "y": 540,
              "width": 87,
              "height": 25,
              "area": 2175,
              "aspect_ratio": 3.48
            },
            {
              "x": 523,
              "y": 539,
              "width": 53,
              "height": 26,
              "area": 1378,
              "aspect_ratio": 2.0384615384615383
            },
            {
              "x": 57,
              "y": 538,
              "width": 179,
              "height": 27,
              "area": 4833,
              "aspect_ratio": 6.62962962962963
            },
            {
              "x": 523,
              "y": 479,
              "width": 16,
              "height": 25,
              "area": 400,
              "aspect_ratio": 0.64
            },
            {
              "x": 556,
              "y": 478,
              "width": 72,
              "height": 26,
              "area": 1872,
              "aspect_ratio": 2.769230769230769
            },
            {
              "x": 539,
              "y": 478,
              "width": 18,
              "height": 26,
              "area": 468,
              "aspect_ratio": 0.6923076923076923
            },
            {
              "x": 417,
              "y": 478,
              "width": 105,
              "height": 26,
              "area": 2730,
              "aspect_ratio": 4.038461538461538
            }
          ],
          "cobertura_texto_porcentaje": 23.629819888381533
        },
        "ruido_artefactos": {
          "nivel_ruido": 3.134148274987316,
          "desviacion_ruido": 10.98095531169378,
          "porcentaje_pixeles_ruidosos": 4.808155758498224,
          "uniformidad": 2.888343480466768,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.5110176801681519,
          "relacion_aspecto": 0.821917808219178,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "screenshot_movil",
          "esquema_color": "texto_claro_fondo_oscuro",
          "inversion_requerida": true,
          "ui_elements_detectados": true,
          "aspect_ratio": 0.821917808219178,
          "calidad_digital": false,
          "dark_percentage": 95.57283782958984,
          "light_percentage": 4.4271626472473145,
          "edge_density": 0.028139269406392695,
          "noise_estimate": 64.32817327003762,
          "confianza_deteccion": 0.7
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 86.0,
          "calidad": 65,
          "texto": 100,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_inversion_global_simple"
      ],
      "metricas_antes": {
        "brillo_promedio": 49.088628868594625,
        "contraste": 45.2761827098252,
        "nitidez": 1102.5654801557514,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "analisis_fondos": {
          "intensidad_media_original": 49.09,
          "porcentaje_fondo_oscuro": 0.8629999756813049,
          "unificacion_aplicada": false,
          "razon_no_unificacion": "preservacion_calidad_usuario"
        },
        "inversion_global": {
          "intensidad_media_original": 49.09,
          "razon": "imagen_muy_oscura_necesita_inversion"
        },
        "screenshot_processing_ultra_conservativo": {
          "upscaling_applied": false,
          "scale_factor": 1.0,
          "unsharp_masking": false,
          "contrast_adjustment": false,
          "binarization_applied": false,
          "brightness_adjustment": false,
          "filosofia": "conservacion_maxima_sin_procesamiento_agresivo"
        }
      },
      "tiempo_procesamiento": 0.035,
      "estrategia_aplicada": "Screenshot Móvil - ULTRA CONSERVATIVO",
      "metricas_despues": {
        "brillo_promedio": 206.4094162227296,
        "contraste": 46.72289690085157,
        "nitidez": 2263.3734676786003,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 45.28,
          "despues": 46.72,
          "cambio": 1.45,
          "porcentaje": 3.2
        },
        "nitidez": {
          "antes": 1102.57,
          "despues": 2263.37,
          "cambio": 1160.81,
          "porcentaje": 105.3
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.047,
      "archivo_resultado": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "PagomoVilBDV Personas 200,00 Bs Fecha : 01/04/ 2025 Operacion : 002501174438 Identificacion : 26714848 Origen : 0102 * Destino : 0424 /504/16 Banco : 0102 BANCO DE VENEZUELA Concepto : pago",
      "total_caracteres": 189,
      "tiempo_procesamiento": 2.833,
      "metodo_extraccion": "ONNXTR_SINGLE_PASS",
      "configuracion_onnxtr": "high_confidence",
      "total_palabras_detectadas": 21,
      "palabras_detectadas": [
        {
          "texto": "PagomoVilBDV",
          "confianza": 0.8964987397193909,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 0
          }
        },
        {
          "texto": "Personas",
          "confianza": 0.9996916055679321,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 1
          }
        },
        {
          "texto": "200,00",
          "confianza": 0.9293074011802673,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 0
          }
        },
        {
          "texto": "Bs",
          "confianza": 0.9993487000465393,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 1
          }
        },
        {
          "texto": "Fecha:",
          "confianza": 0.9998282194137573,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 0
          }
        },
        {
          "texto": "01/04/2025",
          "confianza": 0.831342875957489,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 3,
            "palabra": 0
          }
        },
        {
          "texto": "Operacion:",
          "confianza": 0.9908121228218079,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 4,
            "palabra": 0
          }
        },
        {
          "texto": "002501174438",
          "confianza": 0.7887701988220215,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 5,
            "palabra": 0
          }
        },
        {
          "texto": "Identificacion:",
          "confianza": 0.9198773503303528,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 0
          }
        },
        {
          "texto": "26714848",
          "confianza": 0.9991956353187561,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 7,
            "palabra": 0
          }
        },
        {
          "texto": "Origen:",
          "confianza": 0.999638557434082,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 8,
            "palabra": 0
          }
        },
        {
          "texto": "0102*",
          "confianza": 0.9989356398582458,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 9,
            "palabra": 0
          }
        },
        {
          "texto": "Destino:",
          "confianza": 0.9984846711158752,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 10,
            "palabra": 0
          }
        },
        {
          "texto": "0424/504/16",
          "confianza": 0.8248216509819031,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 11,
            "palabra": 0
          }
        },
        {
          "texto": "Banco:",
          "confianza": 0.9982399940490723,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 12,
            "palabra": 0
          }
        },
        {
          "texto": "0102",
          "confianza": 0.9998704195022583,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 0
          }
        },
        {
          "texto": "BANCO",
          "confianza": 0.999485969543457,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 2
          }
        },
        {
          "texto": "DE",
          "confianza": 0.9999529123306274,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 3
          }
        },
        {
          "texto": "VENEZUELA",
          "confianza": 0.7457509338855743,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 4
          }
        },
        {
          "texto": "Concepto:",
          "confianza": 0.9923284649848938,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 0
          }
        },
        {
          "texto": "pago",
          "confianza": 0.9999097585678101,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 15,
            "palabra": 0
          }
        }
      ],
      "confianza_promedio": 0.948,
      "estadisticas_onnxtr": {
        "paginas_procesadas": 1,
        "palabras_alta_confianza": 19,
        "palabras_media_confianza": 2,
        "palabras_baja_confianza": 0,
        "min_confianza_aplicada": 0.7
      },
      "calidad_extraccion": {
        "score_calidad": 85.1,
        "categoria": "excelente",
        "confianza_promedio": 0.948,
        "palabras_alta_confianza": 19,
        "total_palabras": 21,
        "longitud_texto": 189,
        "recomendaciones": [
          "Calidad de extracción satisfactoria"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "screenshot_movil",
        "esquema_color": "texto_claro_fondo_oscuro",
        "inversion_requerida": true,
        "ui_elements_detectados": true,
        "aspect_ratio": 0.821917808219178,
        "calidad_digital": false,
        "dark_percentage": 95.57283782958984,
        "light_percentage": 4.4271626472473145,
        "edge_density": 0.028139269406392695,
        "noise_estimate": 64.32817327003762,
        "confianza_deteccion": 0.7
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "200,00",
            "posicion_texto": 22
          },
          {
            "valor": "01",
            "posicion_texto": 40
          },
          {
            "valor": "04",
            "posicion_texto": 43
          },
          {
            "valor": "202",
            "posicion_texto": 47
          },
          {
            "valor": "5",
            "posicion_texto": 50
          }
        ],
        "phone": [
          {
            "valor": "00250117443",
            "posicion_texto": 64
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 1,
          "total_elementos": 6,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 2.84,
      "archivo_resultado": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/resultado_ocr.json",
      "archivo_texto": "temp/web_20250704_174446/ocr_13e66e8f_20250704_174446/texto_extraido.txt"
    }
  },
  "archivos_generados": [],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "720x876",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 86.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 3,
      "lista_pasos": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_inversion_global_simple"
      ],
      "tiempo_procesamiento": 0.035
    },
    "resultados_ocr": {
      "caracteres_extraidos": 189,
      "palabras_detectadas": 21,
      "confianza_promedio": 0.948,
      "confianza_ponderada": 0.948,
      "calidad_extraccion": "excelente"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 6,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.146,
      "tiempo_mejora": 0.047,
      "tiempo_ocr": 2.84
    },
    "calificacion_final": {
      "puntuacion": 83.3,
      "categoria": "Muy Buena",
      "componentes": {
        "calidad_imagen": 86.0,
        "confianza_ocr": 85.1,
        "completitud_datos": 75.0
      }
    },
    "recomendaciones": [
      "Error generando recomendaciones"
    ]
  },
  "tiempo_total": 3.042
}