{
  "execution_id": "5a7fe511",
  "timestamp": "20250703_005933",
  "input_image": "uploads/20250703_005933_Imagen_de_WhatsApp_2025-06-21_a_las_18.44.16_52111da8.jpg",
  "temp_directory": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.123,
      "diagnostico": {
        "imagen_info": {
          "ancho": 482,
          "alto": 1080,
          "resolucion_total": 520560,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 212.22229329952359,
          "desviacion_brillo": 83.3261225082898,
          "rango_dinamico": 255.0,
          "histogram": [
            6.0,
            1.0,
            1.0,
            14.0,
            34.0,
            68.0,
            90.0,
            78.0,
            50.0,
            73.0,
            96.0,
            95.0,
            135.0,
            144.0,
            164.0,
            188.0,
            218.0,
            214.0,
            305.0,
            330.0,
            360.0,
            429.0,
            542.0,
            588.0,
            709.0,
            765.0,
            70241.0,
            873.0,
            522.0,
            448.0,
            377.0,
            321.0,
            334.0,
            253.0,
            258.0,
            199.0,
            184.0,
            162.0,
            161.0,
            140.0,
            138.0,
            129.0,
            114.0,
            115.0,
            104.0,
            107.0,
            88.0,
            78.0,
            77.0,
            87.0,
            88.0,
            81.0,
            72.0,
            76.0,
            76.0,
            60.0,
            65.0,
            83.0,
            65.0,
            67.0,
            85.0,
            78.0,
            73.0,
            80.0,
            77.0,
            82.0,
            77.0,
            104.0,
            90.0,
            94.0,
            82.0,
            87.0,
            98.0,
            112.0,
            76.0,
            95.0,
            113.0,
            105.0,
            111.0,
            105.0,
            122.0,
            117.0,
            132.0,
            547.0,
            127.0,
            102.0,
            115.0,
            128.0,
            106.0,
            131.0,
            98.0,
            128.0,
            117.0,
            110.0,
            141.0,
            113.0,
            108.0,
            108.0,
            117.0,
            107.0,
            89.0,
            103.0,
            98.0,
            97.0,
            89.0,
            111.0,
            89.0,
            96.0,
            93.0,
            79.0,
            89.0,
            73.0,
            63.0,
            106.0,
            85.0,
            68.0,
            74.0,
            82.0,
            74.0,
            86.0,
            81.0,
            101.0,
            74.0,
            88.0,
            96.0,
            70.0,
            65.0,
            88.0,
            82.0,
            79.0,
            87.0,
            101.0,
            89.0,
            85.0,
            97.0,
            80.0,
            89.0,
            86.0,
            99.0,
            97.0,
            91.0,
            93.0,
            70.0,
            68.0,
            81.0,
            57.0,
            82.0,
            83.0,
            99.0,
            91.0,
            80.0,
            90.0,
            106.0,
            76.0,
            84.0,
            84.0,
            62.0,
            90.0,
            82.0,
            79.0,
            74.0,
            87.0,
            100.0,
            77.0,
            87.0,
            85.0,
            93.0,
            88.0,
            77.0,
            79.0,
            81.0,
            77.0,
            61.0,
            90.0,
            83.0,
            69.0,
            77.0,
            72.0,
            81.0,
            67.0,
            81.0,
            77.0,
            76.0,
            73.0,
            94.0,
            90.0,
            75.0,
            946.0,
            79.0,
            95.0,
            82.0,
            947.0,
            95.0,
            97.0,
            970.0,
            69.0,
            92.0,
            85.0,
            67.0,
            70.0,
            130.0,
            84.0,
            83.0,
            1019.0,
            116.0,
            87.0,
            85.0,
            77.0,
            97.0,
            92.0,
            836.0,
            106.0,
            87.0,
            100.0,
            124.0,
            107.0,
            91.0,
            109.0,
            131.0,
            107.0,
            116.0,
            510.0,
            123.0,
            128.0,
            147.0,
            151.0,
            1472.0,
            151.0,
            153.0,
            136.0,
            1052.0,
            175.0,
            202.0,
            997.0,
            269.0,
            1556.0,
            1615.0,
            765.0,
            2982.0,
            1801.0,
            2748.0,
            35153.0,
            9480.0,
            5446.0,
            2393.0,
            2160.0,
            1405.0,
            1842.0,
            1526.0,
            2046.0,
            3080.0,
            4725.0,
            5850.0,
            5768.0,
            301305.0,
            19935.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                254,
                301305
              ],
              [
                26,
                70241
              ],
              [
                241,
                35153
              ]
            ],
            "rango_fondo_sugerido": 254,
            "rango_texto_sugerido": 26,
            "distribucion": {
              "oscuras": 0.16291877627372742,
              "medias": 0.014951206743717194,
              "claras": 0.822130024433136
            },
            "requiere_inversion": false,
            "bimodal": true
          },
          "variaciones_fondo": {
            "total_regiones_analizadas": 756,
            "fondos_unicos_detectados": 4,
            "variacion_fondos": 81.60827389334274,
            "fondos_heterogeneos": true,
            "rango_fondos": [
              26,
              255
            ],
            "requiere_unificacion_avanzada": true,
            "regiones_variacion": [
              {
                "posicion": [
                  0,
                  0
                ],
                "media_local": 45.7792,
                "std_local": 58.044769336780035,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  25,
                  0
                ],
                "media_local": 49.6104,
                "std_local": 63.19296330953312,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  50,
                  0
                ],
                "media_local": 52.1472,
                "std_local": 66.31112675984325,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  75,
                  0
                ],
                "media_local": 55.6728,
                "std_local": 68.14400149800422,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  100,
                  0
                ],
                "media_local": 53.5692,
                "std_local": 65.97126959033001,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  125,
                  0
                ],
                "media_local": 46.762,
                "std_local": 59.83287186822976,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  150,
                  0
                ],
                "media_local": 38.42,
                "std_local": 48.431663196714595,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  175,
                  0
                ],
                "media_local": 34.5,
                "std_local": 41.716303767232304,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  200,
                  0
                ],
                "media_local": 34.5,
                "std_local": 41.716303767232304,
                "pico_fondo": 26
              },
              {
                "posicion": [
                  225,
                  0
                ],
                "media_local": 34.5,
                "std_local": 41.716303767232304,
                "pico_fondo": 26
              }
            ]
          }
        },
        "calidad_imagen": {
          "contraste": 83.3261225082898,
          "blur_variance": 1250.6443207091677,
          "entropy": 2.8441529273986816,
          "gradiente_promedio": 36.52052642706808,
          "brillo_promedio": 212.22229329952359,
          "uniformidad_brillo": 83.3261225082898,
          "calificacion_calidad": 85
        },
        "deteccion_texto": {
          "regiones_detectadas": 20,
          "area_total_texto": 14271,
          "densidad_texto": 0.02741470723835869,
          "regiones": [
            {
              "x": 350,
              "y": 1036,
              "width": 23,
              "height": 25,
              "area": 575,
              "aspect_ratio": 0.92
            },
            {
              "x": 108,
              "y": 1036,
              "width": 25,
              "height": 24,
              "area": 600,
              "aspect_ratio": 1.0416666666666667
            },
            {
              "x": 227,
              "y": 1034,
              "width": 28,
              "height": 27,
              "area": 756,
              "aspect_ratio": 1.037037037037037
            },
            {
              "x": 310,
              "y": 994,
              "width": 51,
              "height": 15,
              "area": 765,
              "aspect_ratio": 3.4
            },
            {
              "x": 15,
              "y": 994,
              "width": 65,
              "height": 16,
              "area": 1040,
              "aspect_ratio": 4.0625
            },
            {
              "x": 407,
              "y": 993,
              "width": 54,
              "height": 16,
              "area": 864,
              "aspect_ratio": 3.375
            },
            {
              "x": 111,
              "y": 992,
              "width": 67,
              "height": 17,
              "area": 1139,
              "aspect_ratio": 3.9411764705882355
            },
            {
              "x": 323,
              "y": 953,
              "width": 29,
              "height": 21,
              "area": 609,
              "aspect_ratio": 1.380952380952381
            },
            {
              "x": 416,
              "y": 951,
              "width": 32,
              "height": 27,
              "area": 864,
              "aspect_ratio": 1.1851851851851851
            },
            {
              "x": 130,
              "y": 951,
              "width": 29,
              "height": 25,
              "area": 725,
              "aspect_ratio": 1.16
            },
            {
              "x": 35,
              "y": 950,
              "width": 29,
              "height": 26,
              "area": 754,
              "aspect_ratio": 1.1153846153846154
            },
            {
              "x": 361,
              "y": 15,
              "width": 47,
              "height": 19,
              "area": 893,
              "aspect_ratio": 2.473684210526316
            },
            {
              "x": 56,
              "y": 15,
              "width": 43,
              "height": 19,
              "area": 817,
              "aspect_ratio": 2.263157894736842
            },
            {
              "x": 15,
              "y": 15,
              "width": 40,
              "height": 19,
              "area": 760,
              "aspect_ratio": 2.1052631578947367
            },
            {
              "x": 432,
              "y": 14,
              "width": 37,
              "height": 20,
              "area": 740,
              "aspect_ratio": 1.85
            },
            {
              "x": 315,
              "y": 14,
              "width": 23,
              "height": 20,
              "area": 460,
              "aspect_ratio": 1.15
            },
            {
              "x": 133,
              "y": 14,
              "width": 24,
              "height": 20,
              "area": 480,
              "aspect_ratio": 1.2
            },
            {
              "x": 412,
              "y": 13,
              "width": 18,
              "height": 23,
              "area": 414,
              "aspect_ratio": 0.782608695652174
            },
            {
              "x": 339,
              "y": 13,
              "width": 22,
              "height": 20,
              "area": 440,
              "aspect_ratio": 1.1
            },
            {
              "x": 104,
              "y": 12,
              "width": 24,
              "height": 24,
              "area": 576,
              "aspect_ratio": 1.0
            }
          ],
          "cobertura_texto_porcentaje": 2.741470723835869
        },
        "ruido_artefactos": {
          "nivel_ruido": 3.181602504994621,
          "desviacion_ruido": 10.903178858446914,
          "porcentaje_pixeles_ruidosos": 4.279429844782542,
          "uniformidad": 3.480926310127555,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.9283684492111206,
          "relacion_aspecto": 0.4462962962962963,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "screenshot_movil",
          "esquema_color": "texto_oscuro_fondo_claro",
          "inversion_requerida": false,
          "ui_elements_detectados": false,
          "aspect_ratio": 0.4462962962962963,
          "calidad_digital": false,
          "dark_percentage": 17.086406707763672,
          "light_percentage": 82.9135971069336,
          "edge_density": 0.03415936683571538,
          "noise_estimate": 79.66334582458597,
          "confianza_deteccion": 0.2
        },
        "recomendaciones": {
          "perfil_recomendado": "ultra_rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 68.1,
          "calidad": 85,
          "texto": 13.7,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Buena"
        }
      },
      "imagen_original": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "00_maxima_claridad_letras",
        "03_upscaling_lanczos",
        "04_unsharp_suave",
        "05_contraste_suave"
      ],
      "metricas_antes": {
        "brillo_promedio": 212.22229329952359,
        "contraste": 83.3261225082898,
        "nitidez": 1250.6443207091677,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "screenshot_processing": {
          "upscaling_applied": true,
          "unsharp_radius": 1.0,
          "unsharp_amount": 0.3,
          "contrast_adjustment": true,
          "binarization_applied": false
        }
      },
      "tiempo_procesamiento": 0.155,
      "estrategia_aplicada": "Screenshot Móvil - Conservación Extrema",
      "metricas_despues": {
        "brillo_promedio": 212.58235313892732,
        "contraste": 86.6508381722765,
        "nitidez": 389.10215091303064,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 83.33,
          "despues": 86.65,
          "cambio": 3.32,
          "porcentaje": 4.0
        },
        "nitidez": {
          "antes": 1250.64,
          "despues": 389.1,
          "cambio": -861.54,
          "porcentaje": -68.9
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.169,
      "archivo_resultado": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "0412 - 5318244 TREBOLV - 27061025 - MERCANTIL Monto : Bs .104,54 Comisin : Bs,0,31 Total : Bs .104,85 Referencia : 490760890 [[) Codigoautorizador : 282413 Concepto : 90 CEmitirPago . =_ (eOay - OA,ENC Xe PEO e e S",
      "total_caracteres": 214,
      "tiempo_procesamiento": 1.431,
      "metodo_extraccion": "ELITE_SINGLE_PASS",
      "configuracion_tesseract": "high_confidence",
      "imagen_elite_valores_unicos": 244,
      "estadisticas_ocr": {
        "total_palabras": 44,
        "palabras_validas": 23,
        "confianza_promedio": 43.13,
        "confianza_minima": 0,
        "confianza_maxima": 93,
        "palabras_alta_confianza": 8,
        "palabras_baja_confianza": 10,
        "distribucion_confianza": {
          "excelente (90-100)": 7,
          "buena (70-89)": 1,
          "regular (50-69)": 3,
          "baja (30-49)": 2,
          "muy_baja (0-29)": 10
        }
      },
      "palabras_detectadas": [
        {
          "texto": "Total:",
          "confianza": 93,
          "posicion": {
            "x": 86,
            "y": 772,
            "width": 98,
            "height": 28
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "282413",
          "confianza": 93,
          "posicion": {
            "x": 109,
            "y": 1333,
            "width": 131,
            "height": 29
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "90",
          "confianza": 93,
          "posicion": {
            "x": 109,
            "y": 1554,
            "width": 48,
            "height": 28
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "MERCANTIL",
          "confianza": 92,
          "posicion": {
            "x": 112,
            "y": 222,
            "width": 240,
            "height": 29
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "Referencia:",
          "confianza": 92,
          "posicion": {
            "x": 90,
            "y": 993,
            "width": 206,
            "height": 29
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "Concepto:",
          "confianza": 92,
          "posicion": {
            "x": 88,
            "y": 1442,
            "width": 188,
            "height": 34
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "Monto:",
          "confianza": 91,
          "posicion": {
            "x": 90,
            "y": 330,
            "width": 126,
            "height": 27
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "e",
          "confianza": 82,
          "posicion": {
            "x": 460,
            "y": 2074,
            "width": 44,
            "height": 44
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "S",
          "confianza": 63,
          "posicion": {
            "x": 704,
            "y": 2076,
            "width": 38,
            "height": 40
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "e",
          "confianza": 61,
          "posicion": {
            "x": 221,
            "y": 2076,
            "width": 40,
            "height": 38
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": ".",
          "confianza": 54,
          "posicion": {
            "x": 74,
            "y": 1906,
            "width": 240,
            "height": 42
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "=_",
          "confianza": 45,
          "posicion": {
            "x": 650,
            "y": 1905,
            "width": 242,
            "height": 43
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "PEO",
          "confianza": 38,
          "posicion": {
            "x": 819,
            "y": 1994,
            "width": 98,
            "height": 18
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "Xe",
          "confianza": 3,
          "posicion": {
            "x": 632,
            "y": 1994,
            "width": 84,
            "height": 18
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "0412-5318244TREBOLV-27061025-",
          "confianza": 0,
          "posicion": {
            "x": 110,
            "y": 152,
            "width": 707,
            "height": 29
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Bs.104,54",
          "confianza": 0,
          "posicion": {
            "x": 112,
            "y": 444,
            "width": 192,
            "height": 33
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Comisin:",
          "confianza": 0,
          "posicion": {
            "x": 88,
            "y": 550,
            "width": 183,
            "height": 28
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Bs,0,31",
          "confianza": 0,
          "posicion": {
            "x": 112,
            "y": 664,
            "width": 133,
            "height": 35
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Bs.104,85",
          "confianza": 0,
          "posicion": {
            "x": 110,
            "y": 884,
            "width": 205,
            "height": 36
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "490760890[[)",
          "confianza": 0,
          "posicion": {
            "x": 108,
            "y": 1087,
            "width": 314,
            "height": 61
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Codigoautorizador:",
          "confianza": 0,
          "posicion": {
            "x": 88,
            "y": 1218,
            "width": 369,
            "height": 35
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "CEmitirPago",
          "confianza": 0,
          "posicion": {
            "x": 341,
            "y": 1777,
            "width": 281,
            "height": 39
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "(eOay-OA,ENC",
          "confianza": 0,
          "posicion": {
            "x": 36,
            "y": 1975,
            "width": 492,
            "height": 37
          },
          "categoria_confianza": "baja"
        }
      ],
      "confianza_promedio": {
        "simple": 43.13,
        "ponderada": 28.49,
        "palabras_evaluadas": 23
      },
      "calidad_extraccion": {
        "caracteres_totales": 175,
        "palabras_totales": 40,
        "densidad_informacion": 0.818,
        "errores_detectados": [
          "Caracteres sospechosos: 2"
        ],
        "puntuacion_calidad": 53.130434782608695,
        "categoria": "Regular",
        "recomendaciones": [
          "Revisar manualmente caracteres especiales detectados"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "screenshot_movil",
        "esquema_color": "texto_oscuro_fondo_claro",
        "inversion_requerida": false,
        "ui_elements_detectados": false,
        "aspect_ratio": 0.4462962962962963,
        "calidad_digital": false,
        "dark_percentage": 17.086406707763672,
        "light_percentage": 82.9135971069336,
        "edge_density": 0.03415936683571538,
        "noise_estimate": 79.66334582458597,
        "confianza_deteccion": 0.2
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "041",
            "posicion_texto": 0
          },
          {
            "valor": "2",
            "posicion_texto": 3
          },
          {
            "valor": "531",
            "posicion_texto": 7
          },
          {
            "valor": "824",
            "posicion_texto": 10
          },
          {
            "valor": "4",
            "posicion_texto": 1
          }
        ],
        "reference": [
          {
            "valor": "erencia",
            "posicion_texto": 105
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 1,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 0,
          "total_elementos": 6,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 1.452,
      "archivo_resultado": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/resultado_ocr.json",
      "archivo_texto": "temp/web_20250703_005933/ocr_5a7fe511_20250703_005933/texto_extraido.txt"
    }
  },
  "archivos_generados": [],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "482x1080",
      "calidad_inicial": "Buena",
      "puntuacion_calidad": 68.1
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 4,
      "lista_pasos": [
        "00_maxima_claridad_letras",
        "03_upscaling_lanczos",
        "04_unsharp_suave",
        "05_contraste_suave"
      ],
      "tiempo_procesamiento": 0.155
    },
    "resultados_ocr": {
      "caracteres_extraidos": 214,
      "palabras_detectadas": 23,
      "confianza_promedio": 43.13,
      "confianza_ponderada": 28.49,
      "calidad_extraccion": "Regular"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 6,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.123,
      "tiempo_mejora": 0.169,
      "tiempo_ocr": 1.452
    },
    "calificacion_final": {
      "puntuacion": 52.7,
      "categoria": "Regular",
      "componentes": {
        "calidad_imagen": 68.1,
        "confianza_ocr": 43.1,
        "completitud_datos": 50.0
      }
    },
    "recomendaciones": [
      "Considerar usar perfil 'Normal' para mejor precisión",
      "Revisar manualmente los datos críticos extraídos"
    ]
  },
  "tiempo_total": 1.746
}