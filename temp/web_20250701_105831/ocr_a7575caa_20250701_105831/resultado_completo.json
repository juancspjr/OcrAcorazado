{
  "execution_id": "a7575caa",
  "timestamp": "20250701_105831",
  "input_image": "uploads/20250701_105831_20250620-A_214056942235719lid_Juanc_12-59_unified_regions_debug.png",
  "temp_directory": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.562,
      "diagnostico": {
        "imagen_info": {
          "ancho": 485,
          "alto": 1080,
          "resolucion_total": 523800,
          "canales": 3,
          "modo": "RGB",
          "formato": "PNG",
          "brillo_promedio": 42.894786177930506,
          "desviacion_brillo": 38.86998247408169,
          "rango_dinamico": 255.0
        },
        "calidad_imagen": {
          "contraste": 38.86998247408169,
          "blur_variance": 1213.8566743031693,
          "entropy": 2.2478904724121094,
          "gradiente_promedio": 41.9025127702165,
          "brillo_promedio": 42.894786177930506,
          "uniformidad_brillo": 38.86998247408169,
          "calificacion_calidad": 70
        },
        "deteccion_texto": {
          "regiones_detectadas": 38,
          "area_total_texto": 104714,
          "densidad_texto": 0.19991218022145857,
          "regiones": [
            {
              "x": 371,
              "y": 1037,
              "width": 15,
              "height": 25,
              "area": 375,
              "aspect_ratio": 0.6
            },
            {
              "x": 230,
              "y": 1037,
              "width": 25,
              "height": 25,
              "area": 625,
              "aspect_ratio": 1.0
            },
            {
              "x": 91,
              "y": 1026,
              "width": 36,
              "height": 54,
              "area": 1944,
              "aspect_ratio": 0.6666666666666666
            },
            {
              "x": 134,
              "y": 974,
              "width": 50,
              "height": 30,
              "area": 1500,
              "aspect_ratio": 1.6666666666666667
            },
            {
              "x": 186,
              "y": 968,
              "width": 179,
              "height": 31,
              "area": 5549,
              "aspect_ratio": 5.774193548387097
            },
            {
              "x": 155,
              "y": 908,
              "width": 32,
              "height": 10,
              "area": 320,
              "aspect_ratio": 3.2
            },
            {
              "x": 228,
              "y": 893,
              "width": 30,
              "height": 30,
              "area": 900,
              "aspect_ratio": 1.0
            },
            {
              "x": 36,
              "y": 616,
              "width": 85,
              "height": 26,
              "area": 2210,
              "aspect_ratio": 3.269230769230769
            },
            {
              "x": 304,
              "y": 613,
              "width": 146,
              "height": 29,
              "area": 4234,
              "aspect_ratio": 5.0344827586206895
            },
            {
              "x": 217,
              "y": 579,
              "width": 46,
              "height": 19,
              "area": 874,
              "aspect_ratio": 2.4210526315789473
            },
            {
              "x": 36,
              "y": 577,
              "width": 60,
              "height": 25,
              "area": 1500,
              "aspect_ratio": 2.4
            },
            {
              "x": 276,
              "y": 574,
              "width": 174,
              "height": 30,
              "area": 5220,
              "aspect_ratio": 5.8
            },
            {
              "x": 326,
              "y": 540,
              "width": 119,
              "height": 21,
              "area": 2499,
              "aspect_ratio": 5.666666666666667
            },
            {
              "x": 39,
              "y": 540,
              "width": 68,
              "height": 19,
              "area": 1292,
              "aspect_ratio": 3.5789473684210527
            },
            {
              "x": 38,
              "y": 501,
              "width": 62,
              "height": 23,
              "area": 1426,
              "aspect_ratio": 2.6956521739130435
            },
            {
              "x": 326,
              "y": 499,
              "width": 118,
              "height": 22,
              "area": 2596,
              "aspect_ratio": 5.363636363636363
            },
            {
              "x": 39,
              "y": 461,
              "width": 112,
              "height": 19,
              "area": 2128,
              "aspect_ratio": 5.894736842105263
            },
            {
              "x": 359,
              "y": 459,
              "width": 88,
              "height": 24,
              "area": 2112,
              "aspect_ratio": 3.6666666666666665
            },
            {
              "x": 94,
              "y": 449,
              "width": 36,
              "height": 12,
              "area": 432,
              "aspect_ratio": 3.0
            },
            {
              "x": 33,
              "y": 418,
              "width": 96,
              "height": 29,
              "area": 2784,
              "aspect_ratio": 3.310344827586207
            }
          ],
          "cobertura_texto_porcentaje": 19.99121802214586
        },
        "ruido_artefactos": {
          "nivel_ruido": 3.375442917143948,
          "desviacion_ruido": 11.087084692053761,
          "porcentaje_pixeles_ruidosos": 5.740931653302788,
          "uniformidad": 3.2549522718594885,
          "calificacion_ruido": "Moderado"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.5693944096565247,
          "relacion_aspecto": 0.44907407407407407,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 80.0,
          "calidad": 70,
          "texto": 100.0,
          "ruido": 60,
          "geometria": 100,
          "categoria": "Buena"
        }
      },
      "imagen_original": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "Inversión temprana (Caso A)",
        "Deskew ELIMINADO (Conservación Extrema)",
        "Mejora de contraste CLAHE",
        "Binarización Avanzada: Sauvola",
        "Operaciones morfológicas"
      ],
      "metricas_antes": {
        "brillo_promedio": 42.894786177930506,
        "contraste": 38.86998247408169,
        "nitidez": 1213.8566743031693,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "inversion_caso_a": {
          "intensidad_media_original": 42.89,
          "confianza_inversion": 0.9800000190734863,
          "pixeles_oscuros": 468348,
          "pixeles_claros": 9728
        },
        "deskew_eliminado": {
          "razon": "conservacion_extrema_caracteres",
          "angulo_detectado_ignorado": 2.5,
          "politica": "nunca_rotar_screenshots_ni_documentos"
        },
        "mejora_contraste": {
          "metodo": "CLAHE",
          "clip_limit": 3.0,
          "tile_size": [
            8,
            8
          ]
        },
        "binarization_advanced": {
          "methods_tested": 7,
          "best_method": "Sauvola",
          "quality_score": 0.9791958762886598
        },
        "morfologia": {
          "apertura_kernel": [
            2,
            2
          ],
          "cierre_kernel": [
            3,
            1
          ]
        }
      },
      "tiempo_procesamiento": 0.051,
      "tipo_imagen_detectado": {
        "tipo": "documento_escaneado",
        "es_screenshot": false,
        "dimensiones": "485x1080",
        "aspect_ratio": 0.45,
        "sesgo_detectado": 2.5
      },
      "estrategia_seleccionada": {
        "redimensionar": true,
        "deskew": "conditional",
        "bilateral_filter": "conditional",
        "noise_removal": false,
        "contrast_enhancement": true,
        "adaptive_threshold": true,
        "morphology": "full",
        "sharpening": "conditional"
      },
      "metricas_despues": {
        "brillo_promedio": 221.57396907216494,
        "contraste": 86.06008565536844,
        "nitidez": 9946.788941221728,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 38.87,
          "despues": 86.06,
          "cambio": 47.19,
          "porcentaje": 121.4
        },
        "nitidez": {
          "antes": 1213.86,
          "despues": 9946.79,
          "cambio": 8732.93,
          "porcentaje": 719.4
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.064,
      "archivo_resultado": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "EZEO I.9.Jmi\nG ze\no\nS\nme.a",
      "estadisticas_ocr": {
        "total_palabras": 15,
        "palabras_validas": 7,
        "confianza_promedio": 34.29,
        "confianza_minima": 0,
        "confianza_maxima": 71,
        "palabras_alta_confianza": 1,
        "palabras_baja_confianza": 3,
        "distribucion_confianza": {
          "excelente (90-100)": 0,
          "buena (70-89)": 1,
          "regular (50-69)": 2,
          "baja (30-49)": 1,
          "muy_baja (0-29)": 3
        }
      },
      "palabras_detectadas": [
        {
          "texto": "o",
          "confianza": 71,
          "posicion": {
            "x": 124,
            "y": 194,
            "width": 21,
            "height": 19
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "G",
          "confianza": 67,
          "posicion": {
            "x": 22,
            "y": 61,
            "width": 28,
            "height": 28
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "I.9.Jmi",
          "confianza": 57,
          "posicion": {
            "x": 336,
            "y": 10,
            "width": 126,
            "height": 31
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "EZEO",
          "confianza": 45,
          "posicion": {
            "x": 22,
            "y": 9,
            "width": 111,
            "height": 36
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "ze",
          "confianza": 0,
          "posicion": {
            "x": 306,
            "y": 57,
            "width": 167,
            "height": 36
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "S",
          "confianza": 0,
          "posicion": {
            "x": 155,
            "y": 891,
            "width": 107,
            "height": 35
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "me.a",
          "confianza": 0,
          "posicion": {
            "x": 88,
            "y": 1020,
            "width": 303,
            "height": 60
          },
          "categoria_confianza": "baja"
        }
      ],
      "confianza_promedio": {
        "simple": 34.29,
        "ponderada": 35.85,
        "palabras_evaluadas": 7
      },
      "calidad_extraccion": {
        "caracteres_totales": 20,
        "palabras_totales": 7,
        "densidad_informacion": 0.769,
        "errores_detectados": [
          "Exceso de palabras de 1 letra: 3"
        ],
        "puntuacion_calidad": 38.285714285714285,
        "categoria": "Deficiente",
        "recomendaciones": [
          "Considere mejorar la calidad de la imagen de entrada",
          "Verifique la iluminación y el contraste"
        ]
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "9",
            "posicion_texto": 7
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 1,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 0,
          "total_elementos": 1,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 3.115,
      "archivo_resultado": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/resultado_ocr.json",
      "archivo_texto": "temp/web_20250701_105831/ocr_a7575caa_20250701_105831/texto_extraido.txt"
    }
  },
  "archivos_generados": [],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "485x1080",
      "calidad_inicial": "Buena",
      "puntuacion_calidad": 80.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 5,
      "lista_pasos": [
        "Inversión temprana (Caso A)",
        "Deskew ELIMINADO (Conservación Extrema)",
        "Mejora de contraste CLAHE",
        "Binarización Avanzada: Sauvola",
        "Operaciones morfológicas"
      ],
      "tiempo_procesamiento": 0.051
    },
    "resultados_ocr": {
      "caracteres_extraidos": 26,
      "palabras_detectadas": 7,
      "confianza_promedio": 34.29,
      "confianza_ponderada": 35.85,
      "calidad_extraccion": "Deficiente"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 1,
      "completitud": 50,
      "montos_encontrados": 1,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.562,
      "tiempo_mejora": 0.064,
      "tiempo_ocr": 3.115
    },
    "calificacion_final": {
      "puntuacion": 52.7,
      "categoria": "Regular",
      "componentes": {
        "calidad_imagen": 80.0,
        "confianza_ocr": 34.3,
        "completitud_datos": 50.0
      }
    },
    "recomendaciones": [
      "Considerar usar perfil 'Normal' para mejor precisión",
      "Revisar manualmente los datos críticos extraídos"
    ]
  },
  "tiempo_total": 3.744
}