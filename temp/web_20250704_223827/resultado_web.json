{
  "execution_id": "f4d59126",
  "timestamp": "20250704_223827",
  "input_image": "uploads/20250704_223827_00_imagen_original1.png",
  "temp_directory": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.332,
      "diagnostico": {
        "imagen_info": {
          "ancho": 1019,
          "alto": 1080,
          "resolucion_total": 1100520,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 160.1375595173191,
          "desviacion_brillo": 98.57317257981079,
          "rango_dinamico": 255.0,
          "histogram": [
            1167.0,
            140.0,
            148.0,
            162.0,
            148.0,
            140.0,
            151.0,
            189.0,
            162.0,
            198.0,
            151.0,
            155.0,
            184.0,
            162.0,
            155.0,
            169.0,
            145.0,
            136.0,
            174.0,
            150.0,
            160.0,
            141.0,
            129.0,
            95.0,
            130.0,
            157.0,
            146.0,
            117.0,
            124.0,
            110.0,
            132.0,
            131.0,
            115.0,
            125.0,
            148.0,
            132.0,
            146.0,
            1141.0,
            154.0,
            183.0,
            214.0,
            212.0,
            227.0,
            317.0,
            337.0,
            424.0,
            557.0,
            554.0,
            705.0,
            1905.0,
            1018.0,
            1146.0,
            1391.0,
            1736.0,
            2325.0,
            2123.0,
            468501.0,
            4400.0,
            1843.0,
            2501.0,
            1132.0,
            935.0,
            778.0,
            636.0,
            529.0,
            468.0,
            383.0,
            308.0,
            329.0,
            269.0,
            1265.0,
            233.0,
            211.0,
            229.0,
            273.0,
            201.0,
            254.0,
            249.0,
            217.0,
            175.0,
            148.0,
            222.0,
            214.0,
            232.0,
            183.0,
            177.0,
            170.0,
            156.0,
            163.0,
            222.0,
            151.0,
            179.0,
            150.0,
            135.0,
            159.0,
            143.0,
            123.0,
            1201.0,
            138.0,
            139.0,
            157.0,
            141.0,
            148.0,
            170.0,
            138.0,
            141.0,
            174.0,
            166.0,
            145.0,
            141.0,
            140.0,
            144.0,
            162.0,
            135.0,
            148.0,
            151.0,
            151.0,
            123.0,
            127.0,
            136.0,
            144.0,
            143.0,
            123.0,
            118.0,
            101.0,
            127.0,
            114.0,
            132.0,
            154.0,
            133.0,
            132.0,
            115.0,
            132.0,
            154.0,
            127.0,
            132.0,
            161.0,
            148.0,
            154.0,
            190.0,
            135.0,
            146.0,
            145.0,
            135.0,
            152.0,
            153.0,
            168.0,
            138.0,
            134.0,
            146.0,
            125.0,
            143.0,
            151.0,
            153.0,
            132.0,
            147.0,
            143.0,
            122.0,
            158.0,
            146.0,
            158.0,
            160.0,
            174.0,
            156.0,
            177.0,
            140.0,
            128.0,
            140.0,
            116.0,
            160.0,
            138.0,
            145.0,
            161.0,
            138.0,
            159.0,
            152.0,
            158.0,
            142.0,
            171.0,
            150.0,
            143.0,
            173.0,
            154.0,
            131.0,
            164.0,
            137.0,
            166.0,
            125.0,
            162.0,
            158.0,
            142.0,
            135.0,
            142.0,
            152.0,
            157.0,
            165.0,
            171.0,
            143.0,
            157.0,
            160.0,
            166.0,
            167.0,
            178.0,
            192.0,
            169.0,
            139.0,
            171.0,
            178.0,
            189.0,
            172.0,
            190.0,
            189.0,
            183.0,
            177.0,
            207.0,
            208.0,
            217.0,
            207.0,
            191.0,
            203.0,
            210.0,
            241.0,
            215.0,
            227.0,
            210.0,
            231.0,
            254.0,
            248.0,
            282.0,
            243.0,
            247.0,
            267.0,
            322.0,
            299.0,
            319.0,
            303.0,
            368.0,
            1430.0,
            472.0,
            465.0,
            618.0,
            609.0,
            733.0,
            843.0,
            959.0,
            1173.0,
            1458.0,
            1633.0,
            2117.0,
            2215.0,
            2441.0,
            2999.0,
            5243.0,
            4301.0,
            20348.0,
            513863.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                56,
                468501
              ]
            ],
            "rango_fondo_sugerido": 255,
            "rango_texto_sugerido": 0,
            "distribucion": {
              "oscuras": 0.46379074454307556,
              "medias": 0.012355068698525429,
              "claras": 0.5238541960716248
            },
            "requiere_inversion": false,
            "bimodal": false
          },
          "variaciones_fondo": {
            "total_regiones_analizadas": 1638,
            "fondos_unicos_detectados": 2,
            "variacion_fondos": 99.38712418374291,
            "fondos_heterogeneos": false,
            "rango_fondos": [
              56,
              255
            ],
            "requiere_unificacion_avanzada": true,
            "regiones_variacion": [
              {
                "posicion": [
                  0,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  25,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  50,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  75,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  100,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  125,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  150,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  175,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  200,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              },
              {
                "posicion": [
                  225,
                  0
                ],
                "media_local": 56.0,
                "std_local": 0.0,
                "pico_fondo": 56
              }
            ]
          }
        },
        "calidad_imagen": {
          "contraste": 98.57317257981079,
          "blur_variance": 682.5306717903944,
          "entropy": 2.0730230808258057,
          "gradiente_promedio": 30.974132292355023,
          "brillo_promedio": 160.1375595173191,
          "uniformidad_brillo": 98.57317257981079,
          "calificacion_calidad": 85
        },
        "deteccion_texto": {
          "regiones_detectadas": 57,
          "area_total_texto": 126090,
          "densidad_texto": 0.11457311089303239,
          "regiones": [
            {
              "x": 485,
              "y": 1044,
              "width": 12,
              "height": 32,
              "area": 384,
              "aspect_ratio": 0.375
            },
            {
              "x": 190,
              "y": 1044,
              "width": 27,
              "height": 32,
              "area": 864,
              "aspect_ratio": 0.84375
            },
            {
              "x": 500,
              "y": 1043,
              "width": 77,
              "height": 33,
              "area": 2541,
              "aspect_ratio": 2.3333333333333335
            },
            {
              "x": 389,
              "y": 1043,
              "width": 96,
              "height": 33,
              "area": 3168,
              "aspect_ratio": 2.909090909090909
            },
            {
              "x": 42,
              "y": 1043,
              "width": 147,
              "height": 33,
              "area": 4851,
              "aspect_ratio": 4.454545454545454
            },
            {
              "x": 99,
              "y": 946,
              "width": 40,
              "height": 32,
              "area": 1280,
              "aspect_ratio": 1.25
            },
            {
              "x": 42,
              "y": 945,
              "width": 56,
              "height": 33,
              "area": 1848,
              "aspect_ratio": 1.696969696969697
            },
            {
              "x": 389,
              "y": 944,
              "width": 219,
              "height": 34,
              "area": 7446,
              "aspect_ratio": 6.4411764705882355
            },
            {
              "x": 390,
              "y": 846,
              "width": 83,
              "height": 40,
              "area": 3320,
              "aspect_ratio": 2.075
            },
            {
              "x": 41,
              "y": 846,
              "width": 170,
              "height": 40,
              "area": 6800,
              "aspect_ratio": 4.25
            },
            {
              "x": 514,
              "y": 748,
              "width": 67,
              "height": 33,
              "area": 2211,
              "aspect_ratio": 2.0303030303030303
            },
            {
              "x": 499,
              "y": 748,
              "width": 13,
              "height": 32,
              "area": 416,
              "aspect_ratio": 0.40625
            },
            {
              "x": 389,
              "y": 748,
              "width": 111,
              "height": 33,
              "area": 3663,
              "aspect_ratio": 3.3636363636363638
            },
            {
              "x": 216,
              "y": 748,
              "width": 49,
              "height": 32,
              "area": 1568,
              "aspect_ratio": 1.53125
            },
            {
              "x": 51,
              "y": 748,
              "width": 164,
              "height": 32,
              "area": 5248,
              "aspect_ratio": 5.125
            },
            {
              "x": 283,
              "y": 656,
              "width": 22,
              "height": 25,
              "area": 550,
              "aspect_ratio": 0.88
            },
            {
              "x": 233,
              "y": 656,
              "width": 20,
              "height": 25,
              "area": 500,
              "aspect_ratio": 0.8
            },
            {
              "x": 90,
              "y": 656,
              "width": 87,
              "height": 25,
              "area": 2175,
              "aspect_ratio": 3.48
            },
            {
              "x": 436,
              "y": 649,
              "width": 12,
              "height": 32,
              "area": 384,
              "aspect_ratio": 0.375
            },
            {
              "x": 389,
              "y": 649,
              "width": 48,
              "height": 33,
              "area": 1584,
              "aspect_ratio": 1.4545454545454546
            }
          ],
          "cobertura_texto_porcentaje": 11.45731108930324
        },
        "ruido_artefactos": {
          "nivel_ruido": 2.1659397375785994,
          "desviacion_ruido": 9.113786973908384,
          "porcentaje_pixeles_ruidosos": 4.192381783157053,
          "uniformidad": 2.010107948969578,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.922741174697876,
          "relacion_aspecto": 0.9435185185185185,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "documento_escaneado",
          "esquema_color": "texto_oscuro_fondo_claro",
          "inversion_requerida": false,
          "ui_elements_detectados": true,
          "aspect_ratio": 0.9435185185185185,
          "calidad_digital": false,
          "dark_percentage": 47.04657745361328,
          "light_percentage": 52.95342254638672,
          "edge_density": 0.020272234943481262,
          "noise_estimate": 57.67172958714207,
          "confianza_deteccion": 0.4
        },
        "recomendaciones": {
          "perfil_recomendado": "ultra_rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 81.2,
          "calidad": 85,
          "texto": 57.3,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "metricas_antes": {
        "brillo_promedio": 160.1375595173191,
        "contraste": 98.57317257981079,
        "nitidez": 682.5306717903944,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "analisis_fondos": {
          "intensidad_media_original": 160.14,
          "porcentaje_fondo_oscuro": 0.46299999952316284,
          "unificacion_aplicada": false,
          "razon_no_unificacion": "preservacion_calidad_usuario"
        },
        "no_inversion": {
          "razon": "imagen_suficientemente_clara",
          "intensidad_media": 160.14
        },
        "documento_processing_eliminado": {
          "razon": "eliminado_por_solicitud_usuario",
          "bilateral_filter": false,
          "contraste_adaptativo": false,
          "binarizacion": false,
          "impacto": "preserva_imagen_original_completamente"
        }
      },
      "tiempo_procesamiento": 0.039,
      "estrategia_aplicada": "Documento Escaneado - SIN PROCESAMIENTO",
      "metricas_despues": {
        "brillo_promedio": 159.9879420637517,
        "contraste": 99.36193242755131,
        "nitidez": 1341.5483560260082,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 98.57,
          "despues": 99.36,
          "cambio": 0.79,
          "porcentaje": 0.8
        },
        "nitidez": {
          "antes": 682.53,
          "despues": 1341.55,
          "cambio": 659.02,
          "porcentaje": 96.6
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.057,
      "archivo_resultado": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "El dinero fue enviado Bs .313,62 Dinero BBVA Provincial Banco : BANCO MERCANTIL Numero celular : 04125318244 V 27061025 Concepto : Pago Fecha : 20/06/ 2025 Referencia : 000012071",
      "total_caracteres": 178,
      "tiempo_procesamiento": 4.689,
      "metodo_extraccion": "ONNXTR_SINGLE_PASS",
      "configuracion_onnxtr": "high_confidence",
      "total_palabras_detectadas": 21,
      "palabras_detectadas": [
        {
          "texto": "El",
          "confianza": 0.994523286819458,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 0
          }
        },
        {
          "texto": "dinero",
          "confianza": 0.9738820195198059,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 1
          }
        },
        {
          "texto": "fue",
          "confianza": 0.9999984502792358,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 2
          }
        },
        {
          "texto": "enviado",
          "confianza": 0.9999297857284546,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 3
          }
        },
        {
          "texto": "Bs.313,62",
          "confianza": 0.9932998418807983,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 0
          }
        },
        {
          "texto": "Dinero",
          "confianza": 0.9992809891700745,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 0
          }
        },
        {
          "texto": "BBVA",
          "confianza": 0.9999197721481323,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 3,
            "palabra": 0
          }
        },
        {
          "texto": "Provincial",
          "confianza": 0.9870343804359436,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 3,
            "palabra": 1
          }
        },
        {
          "texto": "Banco:",
          "confianza": 0.9997385144233704,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 4,
            "palabra": 0
          }
        },
        {
          "texto": "BANCO",
          "confianza": 0.9997400641441345,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 5,
            "palabra": 0
          }
        },
        {
          "texto": "MERCANTIL",
          "confianza": 0.934968113899231,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 5,
            "palabra": 1
          }
        },
        {
          "texto": "Numero",
          "confianza": 0.9078118205070496,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 0
          }
        },
        {
          "texto": "celular:",
          "confianza": 0.9943935871124268,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 1
          }
        },
        {
          "texto": "04125318244",
          "confianza": 0.9997963309288025,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 7,
            "palabra": 0
          }
        },
        {
          "texto": "V27061025",
          "confianza": 0.99982088804245,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 9,
            "palabra": 0
          }
        },
        {
          "texto": "Concepto:",
          "confianza": 0.9938133955001831,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 10,
            "palabra": 0
          }
        },
        {
          "texto": "Pago",
          "confianza": 0.9999171495437622,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 11,
            "palabra": 0
          }
        },
        {
          "texto": "Fecha:",
          "confianza": 0.9988956451416016,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 12,
            "palabra": 0
          }
        },
        {
          "texto": "20/06/2025",
          "confianza": 0.9504647254943848,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 0
          }
        },
        {
          "texto": "Referencia:",
          "confianza": 0.9988536834716797,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 0
          }
        },
        {
          "texto": "000012071",
          "confianza": 0.9999492168426514,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 15,
            "palabra": 0
          }
        }
      ],
      "confianza_promedio": 0.987,
      "estadisticas_onnxtr": {
        "paginas_procesadas": 1,
        "palabras_alta_confianza": 21,
        "palabras_media_confianza": 0,
        "palabras_baja_confianza": 0,
        "min_confianza_aplicada": 0.8
      },
      "calidad_extraccion": {
        "score_calidad": 89.5,
        "categoria": "excelente",
        "confianza_promedio": 0.987,
        "palabras_alta_confianza": 21,
        "total_palabras": 21,
        "longitud_texto": 178,
        "recomendaciones": [
          "Calidad de extracción satisfactoria"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "documento_escaneado",
        "esquema_color": "texto_oscuro_fondo_claro",
        "inversion_requerida": false,
        "ui_elements_detectados": true,
        "aspect_ratio": 0.9435185185185185,
        "calidad_digital": false,
        "dark_percentage": 47.04657745361328,
        "light_percentage": 52.95342254638672,
        "edge_density": 0.020272234943481262,
        "noise_estimate": 57.67172958714207,
        "confianza_deteccion": 0.4
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "313,62",
            "posicion_texto": 26
          },
          {
            "valor": "041",
            "posicion_texto": 97
          },
          {
            "valor": "253",
            "posicion_texto": 100
          },
          {
            "valor": "182",
            "posicion_texto": 103
          },
          {
            "valor": "44",
            "posicion_texto": 106
          }
        ],
        "reference": [
          {
            "valor": "erencia",
            "posicion_texto": 159
          }
        ],
        "phone": [
          {
            "valor": "04125318244",
            "posicion_texto": 97
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 1,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 1,
          "total_elementos": 7,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 4.703,
      "archivo_resultado": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/resultado_ocr.json",
      "archivo_texto": "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/texto_extraido.txt"
    }
  },
  "archivos_generados": [
    "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/resultado_completo.json",
    "temp/web_20250704_223827/ocr_f4d59126_20250704_223827/reporte.html"
  ],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "1019x1080",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 81.2
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 4,
      "lista_pasos": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "tiempo_procesamiento": 0.039
    },
    "resultados_ocr": {
      "caracteres_extraidos": 178,
      "palabras_detectadas": 21,
      "confianza_promedio": 0.987,
      "confianza_ponderada": 0.987,
      "calidad_extraccion": "excelente"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 7,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.332,
      "tiempo_mejora": 0.057,
      "tiempo_ocr": 4.703
    },
    "calificacion_final": {
      "puntuacion": 84.9,
      "categoria": "Muy Buena",
      "componentes": {
        "calidad_imagen": 81.2,
        "confianza_ocr": 89.5,
        "completitud_datos": 75.0
      }
    },
    "recomendaciones": [
      "Error generando recomendaciones"
    ]
  },
  "tiempo_total": 5.099
}