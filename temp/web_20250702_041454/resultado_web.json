{
  "execution_id": "a642d195",
  "timestamp": "20250702_041454",
  "input_image": "uploads/20250702_041454_04_contraste_2.png",
  "temp_directory": "temp/web_20250702_041454/ocr_a642d195_20250702_041454",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.088,
      "diagnostico": {
        "imagen_info": {
          "ancho": 485,
          "alto": 1080,
          "resolucion_total": 523800,
          "canales": 1,
          "modo": "L",
          "formato": "PNG",
          "brillo_promedio": 51.83571401298205,
          "desviacion_brillo": 39.7819118578913,
          "rango_dinamico": 254.0,
          "histogram": [
            0.0,
            48.0,
            24.0,
            24.0,
            2625.0,
            36.0,
            56.0,
            66.0,
            25223.0,
            163.0,
            174.0,
            159.0,
            189.0,
            166.0,
            247.0,
            240.0,
            228.0,
            306.0,
            307.0,
            352.0,
            480.0,
            505.0,
            490.0,
            405.0,
            484.0,
            564.0,
            539.0,
            522.0,
            769.0,
            687.0,
            798.0,
            703.0,
            4079.0,
            2395.0,
            2795.0,
            5091.0,
            39245.0,
            63320.0,
            53816.0,
            34246.0,
            27342.0,
            25233.0,
            22991.0,
            20021.0,
            18151.0,
            15886.0,
            13967.0,
            12257.0,
            10655.0,
            9647.0,
            7246.0,
            7003.0,
            7025.0,
            3747.0,
            4729.0,
            3219.0,
            2691.0,
            2250.0,
            2270.0,
            1422.0,
            545.0,
            517.0,
            488.0,
            519.0,
            388.0,
            413.0,
            423.0,
            350.0,
            372.0,
            313.0,
            306.0,
            271.0,
            302.0,
            256.0,
            248.0,
            237.0,
            224.0,
            226.0,
            191.0,
            186.0,
            173.0,
            169.0,
            179.0,
            182.0,
            170.0,
            171.0,
            180.0,
            175.0,
            138.0,
            186.0,
            205.0,
            216.0,
            195.0,
            191.0,
            186.0,
            175.0,
            175.0,
            197.0,
            155.0,
            153.0,
            156.0,
            154.0,
            159.0,
            176.0,
            134.0,
            237.0,
            301.0,
            201.0,
            215.0,
            243.0,
            183.0,
            162.0,
            267.0,
            337.0,
            301.0,
            209.0,
            174.0,
            278.0,
            215.0,
            210.0,
            227.0,
            219.0,
            627.0,
            795.0,
            1105.0,
            1189.0,
            1243.0,
            1529.0,
            2208.0,
            2413.0,
            2876.0,
            2171.0,
            1594.0,
            1450.0,
            1020.0,
            573.0,
            363.0,
            184.0,
            178.0,
            130.0,
            130.0,
            129.0,
            117.0,
            131.0,
            131.0,
            117.0,
            114.0,
            100.0,
            132.0,
            109.0,
            113.0,
            113.0,
            121.0,
            105.0,
            126.0,
            93.0,
            320.0,
            430.0,
            624.0,
            606.0,
            533.0,
            902.0,
            1326.0,
            897.0,
            793.0,
            441.0,
            635.0,
            741.0,
            671.0,
            677.0,
            642.0,
            479.0,
            501.0,
            357.0,
            196.0,
            130.0,
            112.0,
            114.0,
            118.0,
            108.0,
            104.0,
            105.0,
            113.0,
            120.0,
            153.0,
            107.0,
            107.0,
            123.0,
            117.0,
            124.0,
            136.0,
            109.0,
            109.0,
            107.0,
            119.0,
            145.0,
            119.0,
            97.0,
            146.0,
            290.0,
            187.0,
            156.0,
            146.0,
            143.0,
            145.0,
            145.0,
            149.0,
            152.0,
            157.0,
            125.0,
            289.0,
            297.0,
            142.0,
            212.0,
            121.0,
            130.0,
            131.0,
            146.0,
            104.0,
            141.0,
            104.0,
            119.0,
            129.0,
            115.0,
            122.0,
            120.0,
            113.0,
            135.0,
            100.0,
            133.0,
            130.0,
            125.0,
            105.0,
            130.0,
            125.0,
            129.0,
            114.0,
            119.0,
            105.0,
            126.0,
            118.0,
            116.0,
            132.0,
            133.0,
            107.0,
            132.0,
            113.0,
            130.0,
            101.0,
            159.0,
            111.0,
            182.0,
            56.0,
            44.0,
            9.0,
            2687.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                37,
                63320
              ],
              [
                8,
                25223
              ],
              [
                52,
                7025
              ]
            ],
            "rango_fondo_sugerido": 37,
            "rango_texto_sugerido": 8,
            "distribucion": {
              "oscuras": 0.8934058547019958,
              "medias": 0.07869988679885864,
              "claras": 0.027894234284758568
            },
            "requiere_inversion": true,
            "bimodal": true
          }
        },
        "calidad_imagen": {
          "contraste": 39.7819118578913,
          "blur_variance": 1253.0226422298588,
          "entropy": 5.235111713409424,
          "gradiente_promedio": 43.87264711449186,
          "brillo_promedio": 51.83571401298205,
          "uniformidad_brillo": 39.7819118578913,
          "calificacion_calidad": 80
        },
        "deteccion_texto": {
          "regiones_detectadas": 29,
          "area_total_texto": 113444,
          "densidad_texto": 0.21657884688812523,
          "regiones": [
            {
              "x": 370,
              "y": 1037,
              "width": 16,
              "height": 25,
              "area": 400,
              "aspect_ratio": 0.64
            },
            {
              "x": 230,
              "y": 1037,
              "width": 25,
              "height": 25,
              "area": 625,
              "aspect_ratio": 1.0
            },
            {
              "x": 91,
              "y": 1026,
              "width": 36,
              "height": 54,
              "area": 1944,
              "aspect_ratio": 0.6666666666666666
            },
            {
              "x": 133,
              "y": 974,
              "width": 51,
              "height": 32,
              "area": 1632,
              "aspect_ratio": 1.59375
            },
            {
              "x": 186,
              "y": 968,
              "width": 179,
              "height": 35,
              "area": 6265,
              "aspect_ratio": 5.114285714285714
            },
            {
              "x": 155,
              "y": 908,
              "width": 33,
              "height": 11,
              "area": 363,
              "aspect_ratio": 3.0
            },
            {
              "x": 228,
              "y": 893,
              "width": 30,
              "height": 30,
              "area": 900,
              "aspect_ratio": 1.0
            },
            {
              "x": 36,
              "y": 616,
              "width": 85,
              "height": 26,
              "area": 2210,
              "aspect_ratio": 3.269230769230769
            },
            {
              "x": 304,
              "y": 613,
              "width": 147,
              "height": 30,
              "area": 4410,
              "aspect_ratio": 4.9
            },
            {
              "x": 36,
              "y": 577,
              "width": 60,
              "height": 26,
              "area": 1560,
              "aspect_ratio": 2.3076923076923075
            },
            {
              "x": 217,
              "y": 573,
              "width": 233,
              "height": 32,
              "area": 7456,
              "aspect_ratio": 7.28125
            },
            {
              "x": 39,
              "y": 536,
              "width": 73,
              "height": 26,
              "area": 1898,
              "aspect_ratio": 2.8076923076923075
            },
            {
              "x": 326,
              "y": 533,
              "width": 124,
              "height": 30,
              "area": 3720,
              "aspect_ratio": 4.133333333333334
            },
            {
              "x": 326,
              "y": 493,
              "width": 120,
              "height": 30,
              "area": 3600,
              "aspect_ratio": 4.0
            },
            {
              "x": 38,
              "y": 493,
              "width": 69,
              "height": 31,
              "area": 2139,
              "aspect_ratio": 2.225806451612903
            },
            {
              "x": 357,
              "y": 459,
              "width": 94,
              "height": 25,
              "area": 2350,
              "aspect_ratio": 3.76
            },
            {
              "x": 39,
              "y": 449,
              "width": 113,
              "height": 34,
              "area": 3842,
              "aspect_ratio": 3.323529411764706
            },
            {
              "x": 33,
              "y": 418,
              "width": 97,
              "height": 31,
              "area": 3007,
              "aspect_ratio": 3.129032258064516
            },
            {
              "x": 284,
              "y": 413,
              "width": 172,
              "height": 38,
              "area": 6536,
              "aspect_ratio": 4.526315789473684
            },
            {
              "x": 39,
              "y": 383,
              "width": 54,
              "height": 19,
              "area": 1026,
              "aspect_ratio": 2.8421052631578947
            }
          ],
          "cobertura_texto_porcentaje": 21.657884688812523
        },
        "ruido_artefactos": {
          "nivel_ruido": 3.5120580374188624,
          "desviacion_ruido": 10.928166458679062,
          "porcentaje_pixeles_ruidosos": 5.677930507827416,
          "uniformidad": 3.5292115311187477,
          "calificacion_ruido": "Moderado"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 50,
          "simetria_horizontal": 0.5940575003623962,
          "relacion_aspecto": 0.44907407407407407,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "screenshot_movil",
          "esquema_color": "texto_claro_fondo_oscuro",
          "inversion_requerida": true,
          "ui_elements_detectados": false,
          "aspect_ratio": 0.44907407407407407,
          "calidad_digital": false,
          "dark_percentage": 92.00267028808594,
          "light_percentage": 7.9973273277282715,
          "edge_density": 0.04234440626193203,
          "noise_estimate": 68.06132150013067,
          "confianza_deteccion": 0.5
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 84.0,
          "calidad": 80,
          "texto": 100,
          "ruido": 60,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "00_inversion_color",
        "03_upscaling_lanczos",
        "04_unsharp_suave",
        "05_contraste_suave"
      ],
      "metricas_antes": {
        "brillo_promedio": 51.83571401298205,
        "contraste": 39.7819118578913,
        "nitidez": 1253.0226422298588,
        "rango_dinamico": 254.0
      },
      "parametros_aplicados": {
        "screenshot_processing": {
          "upscaling_applied": true,
          "unsharp_radius": 1.0,
          "unsharp_amount": 0.3,
          "contrast_adjustment": true,
          "binarization_applied": false
        }
      },
      "tiempo_procesamiento": 0.309,
      "estrategia_aplicada": "Screenshot Móvil - Conservación Extrema",
      "metricas_despues": {
        "brillo_promedio": 208.08455708285607,
        "contraste": 41.868257474242284,
        "nitidez": 169.79955875868419,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 39.78,
          "despues": 41.87,
          "cambio": 2.09,
          "porcentaje": 5.2
        },
        "nitidez": {
          "antes": 1253.02,
          "despues": 169.8,
          "cambio": -1083.22,
          "porcentaje": -86.4
        },
        "rango_dinamico": {
          "antes": 254.0,
          "despues": 255.0,
          "cambio": 1.0,
          "porcentaje": 0.4
        }
      },
      "tiempo": 0.322,
      "archivo_resultado": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "8210 Mr NEZruil 52848 C omprobantedeoperacin(1s=x PagomovilBDVPesrsonas Fecha : 20/06/ 2025 003039965664 I[] Identificacin : 27081025 Origer : 0102 **** 5071 Destino : 04125318244 0105 - BANCOMERCANTIO 1158988107 o CrearAccesodireffg MNO<",
      "total_caracteres": 238,
      "tiempo_procesamiento": 6.528,
      "metodo_extraccion": "ELITE_SINGLE_PASS",
      "configuracion_tesseract": "high_confidence",
      "imagen_elite_valores_unicos": 244,
      "estadisticas_ocr": {
        "total_palabras": 34,
        "palabras_validas": 19,
        "confianza_promedio": 35.84,
        "confianza_minima": 0,
        "confianza_maxima": 95,
        "palabras_alta_confianza": 5,
        "palabras_baja_confianza": 10,
        "distribucion_confianza": {
          "excelente (90-100)": 3,
          "buena (70-89)": 2,
          "regular (50-69)": 2,
          "baja (30-49)": 2,
          "muy_baja (0-29)": 10
        }
      },
      "palabras_detectadas": [
        {
          "texto": "04125318244",
          "confianza": 95,
          "posicion": {
            "x": 657,
            "y": 1084,
            "width": 232,
            "height": 30
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "Fecha:",
          "confianza": 93,
          "posicion": {
            "x": 78,
            "y": 752,
            "width": 103,
            "height": 60
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "Destino:",
          "confianza": 93,
          "posicion": {
            "x": 82,
            "y": 1081,
            "width": 129,
            "height": 48
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "20/06/2025",
          "confianza": 89,
          "posicion": {
            "x": 701,
            "y": 770,
            "width": 188,
            "height": 30
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "1158988107",
          "confianza": 75,
          "posicion": {
            "x": 641,
            "y": 1241,
            "width": 247,
            "height": 30
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "0102****5071",
          "confianza": 69,
          "posicion": {
            "x": 657,
            "y": 1003,
            "width": 231,
            "height": 34
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "27081025",
          "confianza": 56,
          "posicion": {
            "x": 721,
            "y": 924,
            "width": 168,
            "height": 38
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "8210Mr",
          "confianza": 46,
          "posicion": {
            "x": 64,
            "y": 35,
            "width": 192,
            "height": 34
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "Origer:",
          "confianza": 31,
          "posicion": {
            "x": 81,
            "y": 987,
            "width": 116,
            "height": 60
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "o",
          "confianza": 29,
          "posicion": {
            "x": 272,
            "y": 1952,
            "width": 90,
            "height": 51
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "MNO<",
          "confianza": 5,
          "posicion": {
            "x": 188,
            "y": 2058,
            "width": 580,
            "height": 102
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "NEZruil52848",
          "confianza": 0,
          "posicion": {
            "x": 683,
            "y": 32,
            "width": 225,
            "height": 36
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "C",
          "confianza": 0,
          "posicion": {
            "x": 50,
            "y": 128,
            "width": 43,
            "height": 41
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "omprobantedeoperacin(1s=x",
          "confianza": 0,
          "posicion": {
            "x": 215,
            "y": 121,
            "width": 718,
            "height": 53
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "PagomovilBDVPesrsonas",
          "confianza": 0,
          "posicion": {
            "x": 236,
            "y": 444,
            "width": 495,
            "height": 48
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "003039965664I[]",
          "confianza": 0,
          "posicion": {
            "x": 585,
            "y": 849,
            "width": 308,
            "height": 31
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Identificacin:",
          "confianza": 0,
          "posicion": {
            "x": 82,
            "y": 900,
            "width": 215,
            "height": 69
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "0105-BANCOMERCANTIO",
          "confianza": 0,
          "posicion": {
            "x": 438,
            "y": 1157,
            "width": 456,
            "height": 47
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "CrearAccesodireffg",
          "confianza": 0,
          "posicion": {
            "x": 378,
            "y": 1942,
            "width": 346,
            "height": 50
          },
          "categoria_confianza": "baja"
        }
      ],
      "confianza_promedio": {
        "simple": 35.84,
        "ponderada": 27.91,
        "palabras_evaluadas": 19
      },
      "calidad_extraccion": {
        "caracteres_totales": 208,
        "palabras_totales": 31,
        "densidad_informacion": 0.874,
        "errores_detectados": [
          "Caracteres sospechosos: 5"
        ],
        "puntuacion_calidad": 45.8421052631579,
        "categoria": "Regular",
        "recomendaciones": [
          "Considere mejorar la calidad de la imagen de entrada",
          "Verifique la iluminación y el contraste",
          "Revisar manualmente caracteres especiales detectados"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "screenshot_movil",
        "esquema_color": "texto_claro_fondo_oscuro",
        "inversion_requerida": true,
        "ui_elements_detectados": false,
        "aspect_ratio": 0.44907407407407407,
        "calidad_digital": false,
        "dark_percentage": 92.00267028808594,
        "light_percentage": 7.9973273277282715,
        "edge_density": 0.04234440626193203,
        "noise_estimate": 68.06132150013067,
        "confianza_deteccion": 0.5
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "821",
            "posicion_texto": 0
          },
          {
            "valor": "0",
            "posicion_texto": 3
          },
          {
            "valor": "528",
            "posicion_texto": 16
          },
          {
            "valor": "48",
            "posicion_texto": 19
          },
          {
            "valor": "1",
            "posicion_texto": 2
          }
        ],
        "phone": [
          {
            "valor": "2025 0030399",
            "posicion_texto": 87
          },
          {
            "valor": "04125318244",
            "posicion_texto": 168
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 2,
          "total_elementos": 7,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 6.551,
      "archivo_resultado": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/resultado_ocr.json",
      "archivo_texto": "temp/web_20250702_041454/ocr_a642d195_20250702_041454/texto_extraido.txt"
    }
  },
  "archivos_generados": [
    "temp/web_20250702_041454/ocr_a642d195_20250702_041454/resultado_completo.json",
    "temp/web_20250702_041454/ocr_a642d195_20250702_041454/reporte.html"
  ],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "485x1080",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 84.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 4,
      "lista_pasos": [
        "00_inversion_color",
        "03_upscaling_lanczos",
        "04_unsharp_suave",
        "05_contraste_suave"
      ],
      "tiempo_procesamiento": 0.309
    },
    "resultados_ocr": {
      "caracteres_extraidos": 238,
      "palabras_detectadas": 19,
      "confianza_promedio": 35.84,
      "confianza_ponderada": 27.91,
      "calidad_extraccion": "Regular"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 7,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.088,
      "tiempo_mejora": 0.322,
      "tiempo_ocr": 6.551
    },
    "calificacion_final": {
      "puntuacion": 54.5,
      "categoria": "Regular",
      "componentes": {
        "calidad_imagen": 84.0,
        "confianza_ocr": 35.8,
        "completitud_datos": 50.0
      }
    },
    "recomendaciones": [
      "Considerar usar perfil 'Normal' para mejor precisión",
      "Revisar manualmente los datos críticos extraídos"
    ]
  },
  "tiempo_total": 6.967
}