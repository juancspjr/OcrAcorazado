{
  "execution_id": "fb2f9496",
  "timestamp": "20250701_060702",
  "input_image": "uploads/20250701_060702_20250620-A_214056942235719lid_Juanc_13-19.png",
  "temp_directory": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.435,
      "diagnostico": {
        "imagen_info": {
          "ancho": 485,
          "alto": 1080,
          "resolucion_total": 523800,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 41.0049350897289,
          "desviacion_brillo": 36.4990879559563,
          "rango_dinamico": 255.0
        },
        "calidad_imagen": {
          "contraste": 36.4990879559563,
          "blur_variance": 936.4802749140894,
          "entropy": 2.211930274963379,
          "gradiente_promedio": 34.851996597549984,
          "brillo_promedio": 41.0049350897289,
          "uniformidad_brillo": 36.4990879559563,
          "calificacion_calidad": 70
        },
        "deteccion_texto": {
          "regiones_detectadas": 42,
          "area_total_texto": 87747,
          "densidad_texto": 0.1675200458190149,
          "regiones": [
            {
              "x": 371,
              "y": 1037,
              "width": 15,
              "height": 25,
              "area": 375,
              "aspect_ratio": 0.6
            },
            {
              "x": 230,
              "y": 1037,
              "width": 25,
              "height": 25,
              "area": 625,
              "aspect_ratio": 1.0
            },
            {
              "x": 197,
              "y": 978,
              "width": 166,
              "height": 20,
              "area": 3320,
              "aspect_ratio": 8.3
            },
            {
              "x": 134,
              "y": 974,
              "width": 50,
              "height": 30,
              "area": 1500,
              "aspect_ratio": 1.6666666666666667
            },
            {
              "x": 228,
              "y": 893,
              "width": 30,
              "height": 30,
              "area": 900,
              "aspect_ratio": 1.0
            },
            {
              "x": 413,
              "y": 619,
              "width": 33,
              "height": 18,
              "area": 594,
              "aspect_ratio": 1.8333333333333333
            },
            {
              "x": 385,
              "y": 619,
              "width": 25,
              "height": 18,
              "area": 450,
              "aspect_ratio": 1.3888888888888888
            },
            {
              "x": 335,
              "y": 619,
              "width": 49,
              "height": 18,
              "area": 882,
              "aspect_ratio": 2.7222222222222223
            },
            {
              "x": 319,
              "y": 619,
              "width": 13,
              "height": 19,
              "area": 247,
              "aspect_ratio": 0.6842105263157895
            },
            {
              "x": 39,
              "y": 619,
              "width": 82,
              "height": 21,
              "area": 1722,
              "aspect_ratio": 3.9047619047619047
            },
            {
              "x": 344,
              "y": 579,
              "width": 103,
              "height": 22,
              "area": 2266,
              "aspect_ratio": 4.681818181818182
            },
            {
              "x": 217,
              "y": 579,
              "width": 46,
              "height": 19,
              "area": 874,
              "aspect_ratio": 2.4210526315789473
            },
            {
              "x": 39,
              "y": 579,
              "width": 56,
              "height": 19,
              "area": 1064,
              "aspect_ratio": 2.9473684210526314
            },
            {
              "x": 276,
              "y": 578,
              "width": 66,
              "height": 20,
              "area": 1320,
              "aspect_ratio": 3.3
            },
            {
              "x": 326,
              "y": 540,
              "width": 119,
              "height": 21,
              "area": 2499,
              "aspect_ratio": 5.666666666666667
            },
            {
              "x": 39,
              "y": 540,
              "width": 68,
              "height": 19,
              "area": 1292,
              "aspect_ratio": 3.5789473684210527
            },
            {
              "x": 38,
              "y": 501,
              "width": 62,
              "height": 22,
              "area": 1364,
              "aspect_ratio": 2.8181818181818183
            },
            {
              "x": 326,
              "y": 499,
              "width": 118,
              "height": 21,
              "area": 2478,
              "aspect_ratio": 5.619047619047619
            },
            {
              "x": 359,
              "y": 461,
              "width": 88,
              "height": 20,
              "area": 1760,
              "aspect_ratio": 4.4
            },
            {
              "x": 39,
              "y": 461,
              "width": 112,
              "height": 19,
              "area": 2128,
              "aspect_ratio": 5.894736842105263
            }
          ],
          "cobertura_texto_porcentaje": 16.752004581901488
        },
        "ruido_artefactos": {
          "nivel_ruido": 2.660546009927453,
          "desviacion_ruido": 10.126517822005317,
          "porcentaje_pixeles_ruidosos": 4.509545628102329,
          "uniformidad": 3.2601050019091256,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 44,
          "simetria_horizontal": 0.5953348875045776,
          "relacion_aspecto": 0.44907407407407407,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 83.1,
          "calidad": 70,
          "texto": 83.8,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "Mejora de contraste CLAHE",
        "Binarización adaptativa",
        "Operaciones morfológicas"
      ],
      "metricas_antes": {
        "brillo_promedio": 41.0049350897289,
        "contraste": 36.4990879559563,
        "nitidez": 936.4802749140894,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "deskew_omitido": {
          "razon": "captura_de_pantalla",
          "angulo_detectado": 2.5,
          "es_screenshot": true,
          "dimensiones": "485x1080"
        },
        "bilateral_omitido": {
          "razon": "preservacion_nitidez",
          "nivel_ruido": 2.660546009927453,
          "umbral_requerido": 15,
          "tipo_imagen": "screenshot"
        },
        "denoise_omitido": {
          "razon": "screenshot_preservacion_nitidez",
          "iteraciones_originales": 2,
          "kernel_original": 3
        },
        "mejora_contraste": {
          "metodo": "CLAHE",
          "clip_limit": 3.0,
          "tile_size": [
            8,
            8
          ]
        },
        "binarizacion": {
          "block_size": 15,
          "C": 5,
          "brillo_detectado": 41.0
        },
        "morfologia": {
          "apertura_kernel": [
            2,
            2
          ],
          "cierre_kernel": [
            3,
            1
          ]
        }
      },
      "tiempo_procesamiento": 0.098,
      "metricas_despues": {
        "brillo_promedio": 231.35919243986254,
        "contraste": 73.95619071950367,
        "nitidez": 10745.884020618556,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 36.5,
          "despues": 73.96,
          "cambio": 37.46,
          "porcentaje": 102.6
        },
        "nitidez": {
          "antes": 936.48,
          "despues": 10745.88,
          "cambio": 9809.4,
          "porcentaje": 1047.5
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.125,
      "archivo_resultado": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "B21SHY id.52i:\nc s\nY\nO\nc\nEeeauo\nm O Q",
      "estadisticas_ocr": {
        "total_palabras": 21,
        "palabras_validas": 11,
        "confianza_promedio": 47.09,
        "confianza_minima": 0,
        "confianza_maxima": 78,
        "palabras_alta_confianza": 2,
        "palabras_baja_confianza": 2,
        "distribucion_confianza": {
          "excelente (90-100)": 0,
          "buena (70-89)": 2,
          "regular (50-69)": 4,
          "baja (30-49)": 3,
          "muy_baja (0-29)": 2
        }
      },
      "palabras_detectadas": [
        {
          "texto": "c",
          "confianza": 78,
          "posicion": {
            "x": 225,
            "y": 891,
            "width": 36,
            "height": 35
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "c",
          "confianza": 72,
          "posicion": {
            "x": 22,
            "y": 61,
            "width": 28,
            "height": 27
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": "s",
          "confianza": 67,
          "posicion": {
            "x": 440,
            "y": 57,
            "width": 33,
            "height": 35
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "B21SHY",
          "confianza": 66,
          "posicion": {
            "x": 28,
            "y": 14,
            "width": 104,
            "height": 26
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "Q",
          "confianza": 61,
          "posicion": {
            "x": 369,
            "y": 1037,
            "width": 19,
            "height": 27
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "O",
          "confianza": 52,
          "posicion": {
            "x": 222,
            "y": 254,
            "width": 43,
            "height": 43
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "id.52i:",
          "confianza": 43,
          "posicion": {
            "x": 337,
            "y": 15,
            "width": 123,
            "height": 26
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "m",
          "confianza": 40,
          "posicion": {
            "x": 94,
            "y": 1038,
            "width": 27,
            "height": 27
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "Y",
          "confianza": 36,
          "posicion": {
            "x": 208,
            "y": 142,
            "width": 68,
            "height": 71
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "O",
          "confianza": 3,
          "posicion": {
            "x": 227,
            "y": 1035,
            "width": 31,
            "height": 31
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "Eeeauo",
          "confianza": 0,
          "posicion": {
            "x": 129,
            "y": 969,
            "width": 240,
            "height": 40
          },
          "categoria_confianza": "baja"
        }
      ],
      "confianza_promedio": {
        "simple": 47.09,
        "ponderada": 40.96,
        "palabras_evaluadas": 11
      },
      "calidad_extraccion": {
        "caracteres_totales": 27,
        "palabras_totales": 11,
        "densidad_informacion": 0.73,
        "errores_detectados": [
          "Exceso de palabras de 1 letra: 8"
        ],
        "puntuacion_calidad": 57.09090909090909,
        "categoria": "Regular",
        "recomendaciones": [
          "Calidad de extracción satisfactoria"
        ]
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "21",
            "posicion_texto": 1
          },
          {
            "valor": "52",
            "posicion_texto": 10
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 2,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 0,
          "total_elementos": 2,
          "completitud_porcentaje": 50.0
        }
      },
      "tiempo": 4.209,
      "archivo_resultado": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/resultado_ocr.json",
      "archivo_texto": "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/texto_extraido.txt"
    }
  },
  "archivos_generados": [
    "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/resultado_completo.json",
    "temp/web_20250701_060702/ocr_fb2f9496_20250701_060702/reporte.html"
  ],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "485x1080",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 83.1
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 3,
      "lista_pasos": [
        "Mejora de contraste CLAHE",
        "Binarización adaptativa",
        "Operaciones morfológicas"
      ],
      "tiempo_procesamiento": 0.098
    },
    "resultados_ocr": {
      "caracteres_extraidos": 37,
      "palabras_detectadas": 11,
      "confianza_promedio": 47.09,
      "confianza_ponderada": 40.96,
      "calidad_extraccion": "Regular"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 2,
      "completitud": 50.0,
      "montos_encontrados": 2,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.435,
      "tiempo_mejora": 0.125,
      "tiempo_ocr": 4.209
    },
    "calificacion_final": {
      "puntuacion": 58.8,
      "categoria": "Regular",
      "componentes": {
        "calidad_imagen": 83.1,
        "confianza_ocr": 47.1,
        "completitud_datos": 50.0
      }
    },
    "recomendaciones": [
      "Considerar usar perfil 'Normal' para mejor precisión",
      "Revisar manualmente los datos críticos extraídos"
    ]
  },
  "tiempo_total": 4.771
}