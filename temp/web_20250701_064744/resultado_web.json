{
  "execution_id": "815c878e",
  "timestamp": "20250701_064744",
  "input_image": "uploads/20250701_064744_Imagen_de_WhatsApp_2025-06-20_a_las_20.21.31_7a06b961.png",
  "temp_directory": "temp/web_20250701_064744/ocr_815c878e_20250701_064744",
  "parametros": {
    "language": "spa",
    "profile": "rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.714,
      "diagnostico": {
        "imagen_info": {
          "ancho": 243,
          "alto": 540,
          "resolucion_total": 131220,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 40.82880658436214,
          "desviacion_brillo": 37.11509698980526,
          "rango_dinamico": 255.0
        },
        "calidad_imagen": {
          "contraste": 37.11509698980526,
          "blur_variance": 5166.004909312605,
          "entropy": 2.7545175552368164,
          "gradiente_promedio": 45.51764266328379,
          "brillo_promedio": 40.82880658436214,
          "uniformidad_brillo": 37.11509698980526,
          "calificacion_calidad": 70
        },
        "deteccion_texto": {
          "regiones_detectadas": 29,
          "area_total_texto": 28065,
          "densidad_texto": 0.2138774577046182,
          "regiones": [
            {
              "x": 184,
              "y": 518,
              "width": 11,
              "height": 14,
              "area": 154,
              "aspect_ratio": 0.7857142857142857
            },
            {
              "x": 46,
              "y": 518,
              "width": 15,
              "height": 14,
              "area": 210,
              "aspect_ratio": 1.0714285714285714
            },
            {
              "x": 113,
              "y": 517,
              "width": 16,
              "height": 16,
              "area": 256,
              "aspect_ratio": 1.0
            },
            {
              "x": 97,
              "y": 488,
              "width": 87,
              "height": 12,
              "area": 1044,
              "aspect_ratio": 7.25
            },
            {
              "x": 66,
              "y": 486,
              "width": 27,
              "height": 17,
              "area": 459,
              "aspect_ratio": 1.588235294117647
            },
            {
              "x": 113,
              "y": 446,
              "width": 17,
              "height": 16,
              "area": 272,
              "aspect_ratio": 1.0625
            },
            {
              "x": 158,
              "y": 308,
              "width": 67,
              "height": 12,
              "area": 804,
              "aspect_ratio": 5.583333333333333
            },
            {
              "x": 18,
              "y": 308,
              "width": 44,
              "height": 13,
              "area": 572,
              "aspect_ratio": 3.3846153846153846
            },
            {
              "x": 107,
              "y": 288,
              "width": 118,
              "height": 13,
              "area": 1534,
              "aspect_ratio": 9.076923076923077
            },
            {
              "x": 18,
              "y": 288,
              "width": 31,
              "height": 13,
              "area": 403,
              "aspect_ratio": 2.3846153846153846
            },
            {
              "x": 162,
              "y": 268,
              "width": 63,
              "height": 13,
              "area": 819,
              "aspect_ratio": 4.846153846153846
            },
            {
              "x": 18,
              "y": 268,
              "width": 37,
              "height": 13,
              "area": 481,
              "aspect_ratio": 2.8461538461538463
            },
            {
              "x": 162,
              "y": 249,
              "width": 62,
              "height": 12,
              "area": 744,
              "aspect_ratio": 5.166666666666667
            },
            {
              "x": 18,
              "y": 249,
              "width": 34,
              "height": 14,
              "area": 476,
              "aspect_ratio": 2.4285714285714284
            },
            {
              "x": 179,
              "y": 229,
              "width": 46,
              "height": 13,
              "area": 598,
              "aspect_ratio": 3.5384615384615383
            },
            {
              "x": 18,
              "y": 229,
              "width": 59,
              "height": 13,
              "area": 767,
              "aspect_ratio": 4.538461538461538
            },
            {
              "x": 18,
              "y": 210,
              "width": 47,
              "height": 13,
              "area": 611,
              "aspect_ratio": 3.6153846153846154
            },
            {
              "x": 144,
              "y": 207,
              "width": 84,
              "height": 17,
              "area": 1428,
              "aspect_ratio": 4.9411764705882355
            },
            {
              "x": 174,
              "y": 190,
              "width": 51,
              "height": 13,
              "area": 663,
              "aspect_ratio": 3.923076923076923
            },
            {
              "x": 18,
              "y": 190,
              "width": 30,
              "height": 13,
              "area": 390,
              "aspect_ratio": 2.3076923076923075
            }
          ],
          "cobertura_texto_porcentaje": 21.38774577046182
        },
        "ruido_artefactos": {
          "nivel_ruido": 5.1341030330742266,
          "desviacion_ruido": 17.818374255969488,
          "porcentaje_pixeles_ruidosos": 4.8056698673982625,
          "uniformidad": 5.728768480414571,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 3,
          "simetria_horizontal": 0.6015089154243469,
          "relacion_aspecto": 0.45,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": false,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria"
          ]
        },
        "puntuacion_general": {
          "total": 88.0,
          "calidad": 70,
          "texto": 100,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Excelente"
        }
      },
      "imagen_original": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "rapido",
      "pasos_aplicados": [
        "Inversión de colores (detección temprana)",
        "Corrección de sesgo",
        "Eliminación de ruido",
        "Mejora de contraste CLAHE",
        "Binarización adaptativa",
        "Operaciones morfológicas"
      ],
      "metricas_antes": {
        "brillo_promedio": 40.82880658436214,
        "contraste": 37.11509698980526,
        "nitidez": 5166.004909312605,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "inversion_temprana": {
          "intensidad_media_original": 40.83,
          "pixeles_oscuros": 119128,
          "pixeles_claros": 2649,
          "razon": "texto_blanco_sobre_fondo_negro"
        },
        "deskew": {
          "angulo_corregido": 2.5,
          "dimensiones_nuevas": [
            266,
            550
          ],
          "tipo_imagen": "escaneada"
        },
        "bilateral_omitido": {
          "razon": "preservacion_nitidez",
          "nivel_ruido": 5.1341030330742266,
          "umbral_requerido": 10,
          "tipo_imagen": "escaneada"
        },
        "eliminacion_ruido": {
          "iteraciones": 2,
          "kernel_size": 3,
          "tipo_imagen": "escaneada",
          "reducido_por_conservacion": false
        },
        "mejora_contraste": {
          "metodo": "CLAHE",
          "clip_limit": 3.0,
          "tile_size": [
            8,
            8
          ]
        },
        "binarizacion": {
          "block_size": 15,
          "C": 5,
          "brillo_detectado": 40.8
        },
        "morfologia": {
          "apertura_kernel": [
            2,
            2
          ],
          "cierre_kernel": [
            3,
            1
          ]
        }
      },
      "tiempo_procesamiento": 0.02,
      "metricas_despues": {
        "brillo_promedio": 234.69935064935066,
        "contraste": 69.02571419664967,
        "nitidez": 8699.038277511961,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 37.12,
          "despues": 69.03,
          "cambio": 31.91,
          "porcentaje": 86.0
        },
        "nitidez": {
          "antes": 5166.0,
          "despues": 8699.04,
          "cambio": 3533.03,
          "porcentaje": 68.4
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.024,
      "archivo_resultado": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "e .\nEComprotariecsepercin-\nh\naitianel\na\n.. .\no E\nta hi\no .n-m\n. ece\n. aac\nan\nc\n92\nl o",
      "estadisticas_ocr": {
        "total_palabras": 41,
        "palabras_validas": 23,
        "confianza_promedio": 25.57,
        "confianza_minima": 0,
        "confianza_maxima": 90,
        "palabras_alta_confianza": 1,
        "palabras_baja_confianza": 15,
        "distribucion_confianza": {
          "excelente (90-100)": 1,
          "buena (70-89)": 1,
          "regular (50-69)": 4,
          "baja (30-49)": 2,
          "muy_baja (0-29)": 15
        }
      },
      "palabras_detectadas": [
        {
          "texto": "o",
          "confianza": 90,
          "posicion": {
            "x": 139,
            "y": 525,
            "width": 12,
            "height": 12
          },
          "categoria_confianza": "excelente"
        },
        {
          "texto": "..",
          "confianza": 70,
          "posicion": {
            "x": 30,
            "y": 189,
            "width": 30,
            "height": 31
          },
          "categoria_confianza": "buena"
        },
        {
          "texto": ".n-m",
          "confianza": 60,
          "posicion": {
            "x": 176,
            "y": 253,
            "width": 59,
            "height": 10
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": ".",
          "confianza": 59,
          "posicion": {
            "x": 33,
            "y": 281,
            "width": 6,
            "height": 8
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "h",
          "confianza": 56,
          "posicion": {
            "x": 110,
            "y": 78,
            "width": 31,
            "height": 32
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": ".",
          "confianza": 51,
          "posicion": {
            "x": 185,
            "y": 194,
            "width": 48,
            "height": 10
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "a",
          "confianza": 45,
          "posicion": {
            "x": 25,
            "y": 135,
            "width": 210,
            "height": 56
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "e",
          "confianza": 31,
          "posicion": {
            "x": 0,
            "y": 18,
            "width": 162,
            "height": 16
          },
          "categoria_confianza": "aceptable"
        },
        {
          "texto": "aac",
          "confianza": 29,
          "posicion": {
            "x": 123,
            "y": 292,
            "width": 114,
            "height": 13
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "E",
          "confianza": 24,
          "posicion": {
            "x": 156,
            "y": 210,
            "width": 81,
            "height": 15
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "ece",
          "confianza": 24,
          "posicion": {
            "x": 177,
            "y": 273,
            "width": 59,
            "height": 10
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "an",
          "confianza": 21,
          "posicion": {
            "x": 175,
            "y": 311,
            "width": 63,
            "height": 11
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "hi",
          "confianza": 16,
          "posicion": {
            "x": 191,
            "y": 233,
            "width": 44,
            "height": 10
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "o",
          "confianza": 12,
          "posicion": {
            "x": 32,
            "y": 261,
            "width": 30,
            "height": 10
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": ".",
          "confianza": 0,
          "posicion": {
            "x": 168,
            "y": 11,
            "width": 98,
            "height": 15
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "EComprotariecsepercin-",
          "confianza": 0,
          "posicion": {
            "x": 15,
            "y": 32,
            "width": 222,
            "height": 21
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "aitianel",
          "confianza": 0,
          "posicion": {
            "x": 66,
            "y": 117,
            "width": 124,
            "height": 14
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "o",
          "confianza": 0,
          "posicion": {
            "x": 30,
            "y": 222,
            "width": 44,
            "height": 8
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "ta",
          "confianza": 0,
          "posicion": {
            "x": 27,
            "y": 235,
            "width": 60,
            "height": 21
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": ".",
          "confianza": 0,
          "posicion": {
            "x": 34,
            "y": 300,
            "width": 28,
            "height": 9
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "c",
          "confianza": 0,
          "posicion": {
            "x": 136,
            "y": 453,
            "width": 14,
            "height": 13
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "92",
          "confianza": 0,
          "posicion": {
            "x": 0,
            "y": 495,
            "width": 266,
            "height": 26
          },
          "categoria_confianza": "baja"
        },
        {
          "texto": "l",
          "confianza": 0,
          "posicion": {
            "x": 72,
            "y": 528,
            "width": 11,
            "height": 11
          },
          "categoria_confianza": "baja"
        }
      ],
      "confianza_promedio": {
        "simple": 25.57,
        "ponderada": 15.57,
        "palabras_evaluadas": 23
      },
      "calidad_extraccion": {
        "caracteres_totales": 63,
        "palabras_totales": 23,
        "densidad_informacion": 0.741,
        "errores_detectados": [
          "Exceso de palabras de 1 letra: 9"
        ],
        "puntuacion_calidad": 35.565217391304344,
        "categoria": "Deficiente",
        "recomendaciones": [
          "Considere mejorar la calidad de la imagen de entrada",
          "Verifique la iluminación y el contraste"
        ]
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "92",
            "posicion_texto": 79
          }
        ],
        "analisis_documento": {
          "tipo": "desconocido",
          "confianza": 0,
          "keywords_encontradas": []
        },
        "resumen_extraido": {
          "montos_encontrados": 1,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 0,
          "total_elementos": 1,
          "completitud_porcentaje": 50.0
        }
      },
      "tiempo": 2.671,
      "archivo_resultado": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/resultado_ocr.json",
      "archivo_texto": "temp/web_20250701_064744/ocr_815c878e_20250701_064744/texto_extraido.txt"
    }
  },
  "archivos_generados": [
    "temp/web_20250701_064744/ocr_815c878e_20250701_064744/resultado_completo.json",
    "temp/web_20250701_064744/ocr_815c878e_20250701_064744/reporte.html"
  ],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "243x540",
      "calidad_inicial": "Excelente",
      "puntuacion_calidad": 88.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "rapido",
      "pasos_ejecutados": 6,
      "lista_pasos": [
        "Inversión de colores (detección temprana)",
        "Corrección de sesgo",
        "Eliminación de ruido",
        "Mejora de contraste CLAHE",
        "Binarización adaptativa",
        "Operaciones morfológicas"
      ],
      "tiempo_procesamiento": 0.02
    },
    "resultados_ocr": {
      "caracteres_extraidos": 85,
      "palabras_detectadas": 23,
      "confianza_promedio": 25.57,
      "confianza_ponderada": 15.57,
      "calidad_extraccion": "Deficiente"
    },
    "datos_financieros": {
      "tipo_documento": "desconocido",
      "elementos_encontrados": 1,
      "completitud": 50.0,
      "montos_encontrados": 1,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.714,
      "tiempo_mejora": 0.024,
      "tiempo_ocr": 2.671
    },
    "calificacion_final": {
      "puntuacion": 51.6,
      "categoria": "Regular",
      "componentes": {
        "calidad_imagen": 88.0,
        "confianza_ocr": 25.6,
        "completitud_datos": 50.0
      }
    },
    "recomendaciones": [
      "Considerar usar perfil 'Normal' para mejor precisión",
      "Revisar manualmente los datos críticos extraídos"
    ]
  },
  "tiempo_total": 3.412
}