{
  "execution_id": "d3cdafb7",
  "timestamp": "20250704_204149",
  "input_image": "uploads/20250704_204149_cuenta_bancaria_ejemplo.jpg",
  "temp_directory": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149",
  "parametros": {
    "language": "spa",
    "profile": "ultra_rapido",
    "save_intermediate": true
  },
  "etapas": {
    "1_validacion": {
      "tiempo": 0.142,
      "diagnostico": {
        "imagen_info": {
          "ancho": 540,
          "alto": 1058,
          "resolucion_total": 571320,
          "canales": 3,
          "modo": "RGB",
          "formato": "JPEG",
          "brillo_promedio": 219.13638941398867,
          "desviacion_brillo": 25.856905597536045,
          "rango_dinamico": 255.0,
          "histogram": [
            954.0,
            81.0,
            71.0,
            61.0,
            68.0,
            50.0,
            56.0,
            53.0,
            41.0,
            49.0,
            51.0,
            65.0,
            51.0,
            45.0,
            44.0,
            72.0,
            63.0,
            72.0,
            80.0,
            82.0,
            73.0,
            84.0,
            105.0,
            104.0,
            115.0,
            110.0,
            141.0,
            130.0,
            142.0,
            147.0,
            146.0,
            163.0,
            132.0,
            123.0,
            136.0,
            98.0,
            98.0,
            98.0,
            107.0,
            93.0,
            109.0,
            108.0,
            77.0,
            86.0,
            97.0,
            87.0,
            91.0,
            88.0,
            65.0,
            75.0,
            80.0,
            75.0,
            83.0,
            82.0,
            70.0,
            70.0,
            73.0,
            78.0,
            68.0,
            78.0,
            70.0,
            64.0,
            88.0,
            81.0,
            69.0,
            68.0,
            77.0,
            74.0,
            77.0,
            74.0,
            63.0,
            68.0,
            82.0,
            77.0,
            75.0,
            77.0,
            65.0,
            87.0,
            84.0,
            101.0,
            78.0,
            79.0,
            92.0,
            87.0,
            101.0,
            120.0,
            116.0,
            125.0,
            129.0,
            153.0,
            143.0,
            184.0,
            336.0,
            243.0,
            207.0,
            461.0,
            207.0,
            431.0,
            170.0,
            129.0,
            126.0,
            109.0,
            103.0,
            87.0,
            82.0,
            83.0,
            81.0,
            89.0,
            78.0,
            90.0,
            77.0,
            80.0,
            77.0,
            68.0,
            73.0,
            86.0,
            79.0,
            86.0,
            59.0,
            64.0,
            67.0,
            56.0,
            74.0,
            63.0,
            74.0,
            61.0,
            85.0,
            69.0,
            101.0,
            72.0,
            63.0,
            73.0,
            71.0,
            74.0,
            73.0,
            56.0,
            88.0,
            72.0,
            62.0,
            68.0,
            65.0,
            63.0,
            68.0,
            57.0,
            61.0,
            52.0,
            63.0,
            70.0,
            74.0,
            68.0,
            89.0,
            116.0,
            277.0,
            76.0,
            91.0,
            80.0,
            88.0,
            79.0,
            72.0,
            83.0,
            68.0,
            87.0,
            69.0,
            80.0,
            75.0,
            89.0,
            87.0,
            71.0,
            94.0,
            84.0,
            87.0,
            83.0,
            83.0,
            97.0,
            81.0,
            83.0,
            70.0,
            83.0,
            93.0,
            81.0,
            88.0,
            91.0,
            90.0,
            66.0,
            82.0,
            85.0,
            76.0,
            68.0,
            93.0,
            98.0,
            104.0,
            100.0,
            98.0,
            118.0,
            97.0,
            100.0,
            98.0,
            102.0,
            103.0,
            126.0,
            112.0,
            125.0,
            128.0,
            132.0,
            148.0,
            171.0,
            170.0,
            226.0,
            263.0,
            300.0,
            358.0,
            421.0,
            491.0,
            1584.0,
            22453.0,
            2772.0,
            1302.0,
            1032.0,
            1105.0,
            2307.0,
            1958.0,
            1752.0,
            2696.0,
            3182.0,
            485736.0,
            5938.0,
            4006.0,
            1673.0,
            1377.0,
            1130.0,
            983.0,
            823.0,
            694.0,
            578.0,
            463.0,
            416.0,
            374.0,
            337.0,
            241.0,
            208.0,
            171.0,
            147.0,
            127.0,
            124.0,
            103.0,
            83.0,
            69.0,
            87.0,
            67.0,
            66.0,
            321.0,
            62.0,
            53.0,
            37.0,
            28.0,
            85.0
          ],
          "histogram_analysis": {
            "picos_principales": [
              [
                224,
                485736
              ],
              [
                214,
                22453
              ]
            ],
            "rango_fondo_sugerido": 224,
            "rango_texto_sugerido": 214,
            "distribucion": {
              "oscuras": 0.014093677513301373,
              "medias": 0.015465938486158848,
              "claras": 0.9704403877258301
            },
            "requiere_inversion": false,
            "bimodal": true
          },
          "variaciones_fondo": {
            "total_regiones_analizadas": 820,
            "fondos_unicos_detectados": 2,
            "variacion_fondos": 2.1022352909040483,
            "fondos_heterogeneos": false,
            "rango_fondos": [
              214,
              224
            ],
            "requiere_unificacion_avanzada": false,
            "regiones_variacion": [
              {
                "posicion": [
                  0,
                  0
                ],
                "media_local": 212.9224,
                "std_local": 44.04895887804841,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  25,
                  0
                ],
                "media_local": 212.78,
                "std_local": 44.19151502268281,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  50,
                  0
                ],
                "media_local": 223.8604,
                "std_local": 4.030696197929087,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  75,
                  0
                ],
                "media_local": 209.0208,
                "std_local": 51.00320350095668,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  100,
                  0
                ],
                "media_local": 193.5624,
                "std_local": 69.76313429197401,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  125,
                  0
                ],
                "media_local": 190.9084,
                "std_local": 72.88086175011928,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  150,
                  0
                ],
                "media_local": 189.786,
                "std_local": 73.84208152537414,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  175,
                  0
                ],
                "media_local": 190.0352,
                "std_local": 73.36352473102694,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  200,
                  0
                ],
                "media_local": 189.968,
                "std_local": 73.52960611889608,
                "pico_fondo": 224
              },
              {
                "posicion": [
                  225,
                  0
                ],
                "media_local": 192.6736,
                "std_local": 71.07153482963486,
                "pico_fondo": 224
              }
            ]
          }
        },
        "calidad_imagen": {
          "contraste": 25.856905597536045,
          "blur_variance": 979.8785549254359,
          "entropy": 1.4460184574127197,
          "gradiente_promedio": 25.639039598118128,
          "brillo_promedio": 219.13638941398867,
          "uniformidad_brillo": 25.856905597536045,
          "calificacion_calidad": 50
        },
        "deteccion_texto": {
          "regiones_detectadas": 33,
          "area_total_texto": 57282,
          "densidad_texto": 0.10026254988447805,
          "regiones": [
            {
              "x": 337,
              "y": 1015,
              "width": 58,
              "height": 18,
              "area": 1044,
              "aspect_ratio": 3.2222222222222223
            },
            {
              "x": 276,
              "y": 1015,
              "width": 60,
              "height": 18,
              "area": 1080,
              "aspect_ratio": 3.3333333333333335
            },
            {
              "x": 228,
              "y": 1014,
              "width": 47,
              "height": 20,
              "area": 940,
              "aspect_ratio": 2.35
            },
            {
              "x": 157,
              "y": 1008,
              "width": 57,
              "height": 35,
              "area": 1995,
              "aspect_ratio": 1.6285714285714286
            },
            {
              "x": 254,
              "y": 919,
              "width": 32,
              "height": 31,
              "area": 992,
              "aspect_ratio": 1.032258064516129
            },
            {
              "x": 454,
              "y": 622,
              "width": 44,
              "height": 18,
              "area": 792,
              "aspect_ratio": 2.4444444444444446
            },
            {
              "x": 43,
              "y": 618,
              "width": 83,
              "height": 22,
              "area": 1826,
              "aspect_ratio": 3.772727272727273
            },
            {
              "x": 326,
              "y": 577,
              "width": 66,
              "height": 19,
              "area": 1254,
              "aspect_ratio": 3.473684210526316
            },
            {
              "x": 44,
              "y": 577,
              "width": 56,
              "height": 19,
              "area": 1064,
              "aspect_ratio": 2.9473684210526314
            },
            {
              "x": 394,
              "y": 576,
              "width": 103,
              "height": 23,
              "area": 2369,
              "aspect_ratio": 4.478260869565218
            },
            {
              "x": 267,
              "y": 576,
              "width": 58,
              "height": 21,
              "area": 1218,
              "aspect_ratio": 2.761904761904762
            },
            {
              "x": 376,
              "y": 536,
              "width": 121,
              "height": 19,
              "area": 2299,
              "aspect_ratio": 6.368421052631579
            },
            {
              "x": 44,
              "y": 536,
              "width": 68,
              "height": 19,
              "area": 1292,
              "aspect_ratio": 3.5789473684210527
            },
            {
              "x": 43,
              "y": 496,
              "width": 62,
              "height": 23,
              "area": 1426,
              "aspect_ratio": 2.6956521739130435
            },
            {
              "x": 376,
              "y": 494,
              "width": 120,
              "height": 20,
              "area": 2400,
              "aspect_ratio": 6.0
            },
            {
              "x": 409,
              "y": 455,
              "width": 88,
              "height": 18,
              "area": 1584,
              "aspect_ratio": 4.888888888888889
            },
            {
              "x": 44,
              "y": 454,
              "width": 111,
              "height": 19,
              "area": 2109,
              "aspect_ratio": 5.842105263157895
            },
            {
              "x": 338,
              "y": 414,
              "width": 131,
              "height": 20,
              "area": 2620,
              "aspect_ratio": 6.55
            },
            {
              "x": 43,
              "y": 414,
              "width": 89,
              "height": 22,
              "area": 1958,
              "aspect_ratio": 4.045454545454546
            },
            {
              "x": 475,
              "y": 408,
              "width": 28,
              "height": 30,
              "area": 840,
              "aspect_ratio": 0.9333333333333333
            }
          ],
          "cobertura_texto_porcentaje": 10.026254988447805
        },
        "ruido_artefactos": {
          "nivel_ruido": 2.1677851291745434,
          "desviacion_ruido": 9.821580743671415,
          "porcentaje_pixeles_ruidosos": 3.8419799761954776,
          "uniformidad": 2.6578589932087096,
          "calificacion_ruido": "Bajo"
        },
        "geometria_orientacion": {
          "sesgo_estimado": 2.5,
          "lineas_detectadas": 35,
          "simetria_horizontal": 0.36462298035621643,
          "relacion_aspecto": 0.5103969754253308,
          "requiere_deskew": true,
          "orientacion_correcta": true
        },
        "deteccion_inteligente": {
          "tipo_imagen": "documento_escaneado",
          "esquema_color": "texto_oscuro_fondo_claro",
          "inversion_requerida": false,
          "ui_elements_detectados": false,
          "aspect_ratio": 0.5103969754253308,
          "calidad_digital": false,
          "dark_percentage": 2.3510468006134033,
          "light_percentage": 97.64895629882812,
          "edge_density": 0.02084296016243086,
          "noise_estimate": 54.502954555364205,
          "confianza_deteccion": 0.2
        },
        "recomendaciones": {
          "perfil_recomendado": "rapido",
          "aplicar_deskew": true,
          "nivel_denoise": "moderado",
          "ajuste_contraste": true,
          "filtro_bilateral": true,
          "prioridades": [
            "Corrección de sesgo necesaria",
            "Mejorar contraste"
          ]
        },
        "puntuacion_general": {
          "total": 65.0,
          "calidad": 50,
          "texto": 50.1,
          "ruido": 100,
          "geometria": 100,
          "categoria": "Buena"
        }
      },
      "imagen_original": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/00_imagen_original.png",
      "archivo_diagnostico": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/diagnostico.json"
    },
    "2_mejora": {
      "perfil_usado": "ultra_rapido",
      "pasos_aplicados": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "metricas_antes": {
        "brillo_promedio": 219.13638941398867,
        "contraste": 25.856905597536045,
        "nitidez": 979.8785549254359,
        "rango_dinamico": 255.0
      },
      "parametros_aplicados": {
        "analisis_fondos": {
          "intensidad_media_original": 219.14,
          "porcentaje_fondo_oscuro": 0.013000000268220901,
          "unificacion_aplicada": false,
          "razon_no_unificacion": "preservacion_calidad_usuario"
        },
        "no_inversion": {
          "razon": "imagen_suficientemente_clara",
          "intensidad_media": 219.14
        },
        "documento_processing_eliminado": {
          "razon": "eliminado_por_solicitud_usuario",
          "bilateral_filter": false,
          "contraste_adaptativo": false,
          "binarizacion": false,
          "impacto": "preserva_imagen_original_completamente"
        }
      },
      "tiempo_procesamiento": 0.04,
      "estrategia_aplicada": "Documento Escaneado - SIN PROCESAMIENTO",
      "metricas_despues": {
        "brillo_promedio": 219.23738885388224,
        "contraste": 29.31696961801564,
        "nitidez": 2322.249691941469,
        "rango_dinamico": 255.0
      },
      "imagen_mejorada": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/imagen_mejorada.png",
      "mejora_calidad": {
        "contraste": {
          "antes": 25.86,
          "despues": 29.32,
          "cambio": 3.46,
          "porcentaje": 13.4
        },
        "nitidez": {
          "antes": 979.88,
          "despues": 2322.25,
          "cambio": 1342.37,
          "porcentaje": 137.0
        },
        "rango_dinamico": {
          "antes": 255.0,
          "despues": 255.0,
          "cambio": 0.0,
          "porcentaje": 0.0
        }
      },
      "tiempo": 0.047,
      "archivo_resultado": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/resultado_mejora.json"
    },
    "3_ocr": {
      "texto_completo": "Comprobante de operacion PagomoVilBDV Personas 104,34 Bs Fecha : Operacion : 003039096498 27061025 Origen : Destino : 04125318244 Banco : 0105 - BANCO MERCANTIL Concepto : pago Crear Acceso directo",
      "total_caracteres": 197,
      "tiempo_procesamiento": 2.191,
      "metodo_extraccion": "ONNXTR_SINGLE_PASS",
      "configuracion_onnxtr": "high_confidence",
      "total_palabras_detectadas": 24,
      "palabras_detectadas": [
        {
          "texto": "Comprobante",
          "confianza": 0.9522897601127625,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 0
          }
        },
        {
          "texto": "de",
          "confianza": 0.9998088479042053,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 1
          }
        },
        {
          "texto": "operacion",
          "confianza": 0.9955216646194458,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 0,
            "palabra": 2
          }
        },
        {
          "texto": "PagomoVilBDV",
          "confianza": 0.9503241181373596,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 0
          }
        },
        {
          "texto": "Personas",
          "confianza": 0.9997095465660095,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 1,
            "palabra": 1
          }
        },
        {
          "texto": "104,34",
          "confianza": 0.9999203681945801,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 0
          }
        },
        {
          "texto": "Bs",
          "confianza": 0.9995916485786438,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 2,
            "palabra": 1
          }
        },
        {
          "texto": "Fecha:",
          "confianza": 0.9472509622573853,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 3,
            "palabra": 0
          }
        },
        {
          "texto": "Operacion:",
          "confianza": 0.9994426369667053,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 5,
            "palabra": 0
          }
        },
        {
          "texto": "003039096498",
          "confianza": 0.954774409532547,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 6,
            "palabra": 0
          }
        },
        {
          "texto": "27061025",
          "confianza": 0.9934201836585999,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 8,
            "palabra": 0
          }
        },
        {
          "texto": "Origen:",
          "confianza": 0.9584898352622986,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 9,
            "palabra": 0
          }
        },
        {
          "texto": "Destino:",
          "confianza": 0.999894380569458,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 11,
            "palabra": 0
          }
        },
        {
          "texto": "04125318244",
          "confianza": 0.9987903237342834,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 12,
            "palabra": 0
          }
        },
        {
          "texto": "Banco:",
          "confianza": 0.9987254738807678,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 13,
            "palabra": 0
          }
        },
        {
          "texto": "0105",
          "confianza": 0.9997707009315491,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 0
          }
        },
        {
          "texto": "-",
          "confianza": 0.8404271006584167,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 1
          }
        },
        {
          "texto": "BANCO",
          "confianza": 0.9952687621116638,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 2
          }
        },
        {
          "texto": "MERCANTIL",
          "confianza": 0.9834205508232117,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 14,
            "palabra": 3
          }
        },
        {
          "texto": "Concepto:",
          "confianza": 0.9719816446304321,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 15,
            "palabra": 0
          }
        },
        {
          "texto": "pago",
          "confianza": 0.9998437166213989,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 16,
            "palabra": 0
          }
        },
        {
          "texto": "Crear",
          "confianza": 0.9875400066375732,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 17,
            "palabra": 0
          }
        },
        {
          "texto": "Acceso",
          "confianza": 0.9994066953659058,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 17,
            "palabra": 1
          }
        },
        {
          "texto": "directo",
          "confianza": 0.9974536299705505,
          "posicion": {
            "pagina": 0,
            "bloque": 0,
            "linea": 17,
            "palabra": 2
          }
        }
      ],
      "confianza_promedio": 0.98,
      "estadisticas_onnxtr": {
        "paginas_procesadas": 1,
        "palabras_alta_confianza": 24,
        "palabras_media_confianza": 0,
        "palabras_baja_confianza": 0,
        "min_confianza_aplicada": 0.8
      },
      "calidad_extraccion": {
        "score_calidad": 89.2,
        "categoria": "excelente",
        "confianza_promedio": 0.98,
        "palabras_alta_confianza": 24,
        "total_palabras": 24,
        "longitud_texto": 197,
        "recomendaciones": [
          "Calidad de extracción satisfactoria"
        ]
      },
      "deteccion_inteligente": {
        "tipo_imagen": "documento_escaneado",
        "esquema_color": "texto_oscuro_fondo_claro",
        "inversion_requerida": false,
        "ui_elements_detectados": false,
        "aspect_ratio": 0.5103969754253308,
        "calidad_digital": false,
        "dark_percentage": 2.3510468006134033,
        "light_percentage": 97.64895629882812,
        "edge_density": 0.02084296016243086,
        "noise_estimate": 54.502954555364205,
        "confianza_deteccion": 0.2
      },
      "datos_financieros": {
        "amount": [
          {
            "valor": "104,34",
            "posicion_texto": 47
          },
          {
            "valor": "003",
            "posicion_texto": 77
          },
          {
            "valor": "039",
            "posicion_texto": 80
          },
          {
            "valor": "096",
            "posicion_texto": 83
          },
          {
            "valor": "498",
            "posicion_texto": 86
          }
        ],
        "phone": [
          {
            "valor": "00303909649",
            "posicion_texto": 77
          },
          {
            "valor": "04125318244",
            "posicion_texto": 118
          }
        ],
        "analisis_documento": {
          "tipo": "recibo_pago",
          "confianza": 25.0,
          "keywords_encontradas": [
            "comprobante"
          ]
        },
        "resumen_extraido": {
          "montos_encontrados": 5,
          "fechas_encontradas": 0,
          "referencias_encontradas": 0,
          "cuentas_encontradas": 0,
          "telefonos_encontrados": 2,
          "total_elementos": 7,
          "completitud_porcentaje": 50
        }
      },
      "tiempo": 2.196,
      "archivo_resultado": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/resultado_ocr.json",
      "archivo_texto": "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/texto_extraido.txt"
    }
  },
  "archivos_generados": [
    "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/resultado_completo.json",
    "temp/web_20250704_204149/ocr_d3cdafb7_20250704_204149/reporte.html"
  ],
  "resumen_final": {
    "imagen_original": {
      "dimensiones": "540x1058",
      "calidad_inicial": "Buena",
      "puntuacion_calidad": 65.0
    },
    "procesamiento_aplicado": {
      "perfil_usado": "ultra_rapido",
      "pasos_ejecutados": 4,
      "lista_pasos": [
        "00_analisis_sin_unificacion",
        "00_maxima_claridad_letras",
        "01_no_inversion_necesaria",
        "03_sin_procesamiento"
      ],
      "tiempo_procesamiento": 0.04
    },
    "resultados_ocr": {
      "caracteres_extraidos": 197,
      "palabras_detectadas": 24,
      "confianza_promedio": 0.98,
      "confianza_ponderada": 0.98,
      "calidad_extraccion": "excelente"
    },
    "datos_financieros": {
      "tipo_documento": "recibo_pago",
      "elementos_encontrados": 7,
      "completitud": 50,
      "montos_encontrados": 5,
      "fechas_encontradas": 0
    },
    "rendimiento": {
      "tiempo_total": 0,
      "tiempo_validacion": 0.142,
      "tiempo_mejora": 0.047,
      "tiempo_ocr": 2.196
    },
    "calificacion_final": {
      "puntuacion": 81.5,
      "categoria": "Muy Buena",
      "componentes": {
        "calidad_imagen": 65.0,
        "confianza_ocr": 89.2,
        "completitud_datos": 75.0
      }
    },
    "recomendaciones": [
      "Error generando recomendaciones"
    ]
  },
  "tiempo_total": 2.391
}